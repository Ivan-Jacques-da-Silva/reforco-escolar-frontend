{"file_contents":{"README.md":{"content":"# Reforço Escolar — Front-end (React + Vite + Tailwind)\n\nProjeto demo só de UI, sem backend. Componentes `@/components/ui/*` são implementações leves no estilo shadcn.\n\n## Rodar\n\n```bash\nnpm install\nnpm run dev\n```\n\n## Estrutura\n- `src/components/ui/*` — primitivas (Button, Card, Badge, Input, Label, Table)\n- `src/App.jsx` — tela principal\n- `tailwind.config.js` / `postcss.config.js` — Tailwind\n- `vite.config.js` — React + alias `@`\n","size_bytes":452},"backend/src/routes/students.js":{"content":"const express = require('express');\nconst { prisma } = require('../config/database');\nconst { authenticateToken, requireAdmin, canAccessStudent } = require('../middleware/auth');\n\nconst router = express.Router();\n\n// Listar todos os alunos (admin vê todos, professor vê apenas seus alunos)\nrouter.get('/', authenticateToken, async (req, res) => {\n  try {\n    const { page = 1, limit = 10, search, status } = req.query;\n    const skip = (page - 1) * limit;\n\n    // Construir filtros\n    const where = {};\n    \n    // Se não for admin, filtrar apenas alunos do professor\n    if (req.user.role !== 'ADMIN') {\n      where.teacherId = req.user.id;\n    }\n\n    // Filtro por status\n    if (status) {\n      where.status = status;\n    }\n\n    // Filtro por busca (nome ou email)\n    if (search) {\n      where.OR = [\n        { name: { contains: search, mode: 'insensitive' } },\n        { email: { contains: search, mode: 'insensitive' } }\n      ];\n    }\n\n    // Buscar alunos\n    const [students, total] = await Promise.all([\n      prisma.student.findMany({\n        where,\n        skip: parseInt(skip),\n        take: parseInt(limit),\n        include: {\n          teacher: {\n            select: {\n              id: true,\n              name: true,\n              email: true\n            }\n          },\n          _count: {\n            select: {\n              tutorings: true,\n              payments: true\n            }\n          }\n        },\n        orderBy: { createdAt: 'desc' }\n      }),\n      prisma.student.count({ where })\n    ]);\n\n    res.json({\n      students,\n      pagination: {\n        page: parseInt(page),\n        limit: parseInt(limit),\n        total,\n        pages: Math.ceil(total / limit)\n      }\n    });\n\n  } catch (error) {\n    console.error('Erro ao listar alunos:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Buscar aluno por ID\nrouter.get('/:id', authenticateToken, canAccessStudent, async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    const student = await prisma.student.findUnique({\n      where: { id },\n      include: {\n        teacher: {\n          select: {\n            id: true,\n            name: true,\n            email: true\n          }\n        },\n        tutorings: {\n          orderBy: { createdAt: 'desc' },\n          take: 5\n        },\n        payments: {\n          orderBy: { createdAt: 'desc' },\n          take: 5\n        }\n      }\n    });\n\n    if (!student) {\n      return res.status(404).json({\n        error: 'Aluno não encontrado'\n      });\n    }\n\n    res.json(student);\n\n  } catch (error) {\n    console.error('Erro ao buscar aluno:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Criar novo aluno\nrouter.post('/', authenticateToken, async (req, res) => {\n  try {\n    const {\n      name,\n      email,\n      phone,\n      birthDate,\n      grade,\n      school,\n      parentName,\n      parentPhone,\n      parentEmail,\n      address,\n      teacherId\n    } = req.body;\n\n    // Validações\n    if (!name || !email) {\n      return res.status(400).json({\n        error: 'Nome e email são obrigatórios'\n      });\n    }\n\n    // Verificar se o email já existe\n    const existingStudent = await prisma.student.findUnique({\n      where: { email }\n    });\n\n    if (existingStudent) {\n      return res.status(400).json({\n        error: 'Este email já está em uso'\n      });\n    }\n\n    // Se não for admin, usar o próprio ID como teacherId\n    const finalTeacherId = req.user.role === 'ADMIN' ? teacherId : req.user.id;\n\n    // Criar aluno\n    const student = await prisma.student.create({\n      data: {\n        name,\n        email,\n        phone,\n        birthDate: birthDate ? new Date(birthDate) : null,\n        grade,\n        school,\n        parentName,\n        parentPhone,\n        parentEmail,\n        address,\n        teacherId: finalTeacherId\n      },\n      include: {\n        teacher: {\n          select: {\n            id: true,\n            name: true,\n            email: true\n          }\n        }\n      }\n    });\n\n    res.status(201).json({\n      message: 'Aluno criado com sucesso',\n      student\n    });\n\n  } catch (error) {\n    console.error('Erro ao criar aluno:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Atualizar aluno\nrouter.put('/:id', authenticateToken, canAccessStudent, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const {\n      name,\n      email,\n      phone,\n      birthDate,\n      grade,\n      school,\n      parentName,\n      parentPhone,\n      parentEmail,\n      address,\n      status,\n      teacherId\n    } = req.body;\n\n    // Verificar se o email já existe (exceto para o próprio aluno)\n    if (email) {\n      const existingStudent = await prisma.student.findFirst({\n        where: {\n          email,\n          NOT: { id }\n        }\n      });\n\n      if (existingStudent) {\n        return res.status(400).json({\n          error: 'Este email já está em uso'\n        });\n      }\n    }\n\n    // Preparar dados para atualização\n    const updateData = {};\n    if (name) updateData.name = name;\n    if (email) updateData.email = email;\n    if (phone) updateData.phone = phone;\n    if (birthDate) updateData.birthDate = new Date(birthDate);\n    if (grade) updateData.grade = grade;\n    if (school) updateData.school = school;\n    if (parentName) updateData.parentName = parentName;\n    if (parentPhone) updateData.parentPhone = parentPhone;\n    if (parentEmail) updateData.parentEmail = parentEmail;\n    if (address) updateData.address = address;\n    if (status) updateData.status = status;\n    \n    // Apenas admin pode alterar o professor\n    if (req.user.role === 'ADMIN' && teacherId) {\n      updateData.teacherId = teacherId;\n    }\n\n    // Atualizar aluno\n    const student = await prisma.student.update({\n      where: { id },\n      data: updateData,\n      include: {\n        teacher: {\n          select: {\n            id: true,\n            name: true,\n            email: true\n          }\n        }\n      }\n    });\n\n    res.json({\n      message: 'Aluno atualizado com sucesso',\n      student\n    });\n\n  } catch (error) {\n    console.error('Erro ao atualizar aluno:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Deletar aluno\nrouter.delete('/:id', authenticateToken, canAccessStudent, async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    // Verificar se o aluno existe\n    const student = await prisma.student.findUnique({\n      where: { id }\n    });\n\n    if (!student) {\n      return res.status(404).json({\n        error: 'Aluno não encontrado'\n      });\n    }\n\n    // Deletar aluno (cascade irá deletar registros relacionados)\n    await prisma.student.delete({\n      where: { id }\n    });\n\n    res.json({\n      message: 'Aluno deletado com sucesso'\n    });\n\n  } catch (error) {\n    console.error('Erro ao deletar aluno:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\nmodule.exports = router;","size_bytes":7045},"src/Dashboard.jsx":{"content":"import React, { useMemo, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport {\n  Home,\n  Users,\n  BookOpen,\n  Boxes,\n  CreditCard,\n  Banknote,\n  BarChart3,\n  Settings,\n  Plus,\n  Search,\n  Receipt,\n  ChevronRight,\n  CheckCircle2,\n  XCircle,\n  Bell,\n  Sparkles,\n  LayoutGrid,\n  Crown,\n  ShieldCheck,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport Students from \"./pages/Students\";\nimport Tutorings from \"./pages/Tutorings\";\nimport Materials from \"./pages/Materials\";\nimport Payments from \"./pages/Payments\";\n\n// =====================================================\n// Reforço Escolar — UI clara (sem degradê / sem cores escuras)\n// - React + Tailwind + shadcn + framer-motion\n// - Visual clean: tons claros, bordas suaves, microanimações\n// - Variáveis e funções em português\n// =====================================================\n\n// ---------- Mock de dados ----------\nconst dadosAlunosExemplo = [\n  { id: \"A001\", nome: \"Ana Souza\", serie: \"7º Ano\", telefone: \"(55) 99999-1111\", status: \"ativo\", mensalidade: 149.9 },\n  { id: \"A002\", nome: \"Bruno Lima\", serie: \"8º Ano\", telefone: \"(55) 98888-2222\", status: \"ativo\", mensalidade: 149.9 },\n  { id: \"A003\", nome: \"Carla Mendes\", serie: \"9º Ano\", telefone: \"(55) 97777-3333\", status: \"pendente\", mensalidade: 149.9 },\n  { id: \"A004\", nome: \"Diego Santos\", serie: \"1º EM\", telefone: \"(55) 96666-4444\", status: \"inativo\", mensalidade: 149.9 },\n];\n\nconst dadosReforcosExemplo = [\n  { id: \"R101\", alunoId: \"A001\", aluno: \"Ana Souza\", disciplina: \"Matemática\", assunto: \"Equações do 1º grau\", plano: \"Pacote 8 aulas\", proximaAula: \"15/09/2025 15:00\" },\n  { id: \"R102\", alunoId: \"A002\", aluno: \"Bruno Lima\", disciplina: \"Português\", assunto: \"Interpretação de texto\", plano: \"Pacote 4 aulas\", proximaAula: \"16/09/2025 10:00\" },\n  { id: \"R103\", alunoId: \"A003\", aluno: \"Carla Mendes\", disciplina: \"Física\", assunto: \"Cinemática\", plano: \"Aula avulsa\", proximaAula: \"17/09/2025 14:30\" },\n];\n\nconst dadosMateriaisExemplo = [\n  { sku: \"MAT-001\", nome: \"Caderno 96 folhas\", quantidade: 40, minimo: 10 },\n  { sku: \"MAT-002\", nome: \"Lápis HB nº2\", quantidade: 120, minimo: 50 },\n  { sku: \"MAT-003\", nome: \"Borracha branca\", quantidade: 25, minimo: 20 },\n  { sku: \"MAT-004\", nome: \"Apontador\", quantidade: 8, minimo: 15 },\n];\n\nconst dadosCobrancasAlunoExemplo = [\n  { id: \"C001\", aluno: \"Ana Souza\", referencia: \"Mensalidade 09/2025\", valor: 149.9, status: \"pago\", gateway: \"CORA\" },\n  { id: \"C002\", aluno: \"Bruno Lima\", referencia: \"Mensalidade 09/2025\", valor: 149.9, status: \"pendente\", gateway: \"CORA\" },\n  { id: \"C003\", aluno: \"Carla Mendes\", referencia: \"Mensalidade 09/2025\", valor: 149.9, status: \"em_processamento\", gateway: \"CORA\" },\n];\n\nconst dadosFinanceiroEmpresaExemplo = [\n  { id: \"F001\", descricao: \"Mensalidade Escola X (15 alunos)\", valor: 118.0, status: \"pago\", banco: \"SICOOB\" },\n  { id: \"F002\", descricao: \"Mensalidade Escola Y (32 alunos)\", valor: 158.4, status: \"pendente\", banco: \"SICOOB\" },\n];\n\nconst menu = [\n  { chave: \"visao\", titulo: \"Visão Geral\", icone: Home },\n  { chave: \"alunos\", titulo: \"Alunos\", icone: Users },\n  { chave: \"reforcos\", titulo: \"Reforços\", icone: BookOpen },\n  { chave: \"materiais\", titulo: \"Materiais\", icone: Boxes },\n  { chave: \"financeiro-aluno\", titulo: \"Pagamentos\", icone: CreditCard },\n  { chave: \"financeiro-empresa\", titulo: \"Financeiro (Empresa)\", icone: Banknote },\n  { chave: \"relatorios\", titulo: \"Relatórios\", icone: BarChart3 },\n  { chave: \"config\", titulo: \"Configurações\", icone: Settings },\n];\n\n// ---------- Componentes de layout ----------\nfunction Marca() {\n  return (\n    <div className=\"flex items-center gap-2\">\n      <div className=\"relative\">\n        <div className=\"size-9 rounded-2xl bg-sky-400 shadow-inner\" />\n        <Sparkles className=\"absolute -right-1 -bottom-1 h-4 w-4 text-amber-400\" />\n      </div>\n      <div>\n        <div className=\"font-extrabold tracking-tight leading-none\">Reforço</div>\n        <div className=\"text-[10px] uppercase text-muted-foreground\">Painel</div>\n      </div>\n    </div>\n  );\n}\n\nfunction Topo({ user, onLogout }) {\n  return (\n    <div className=\"sticky top-0 z-30 backdrop-blur-xl bg-white/80 border-b\">\n      <div className=\"mx-auto max-w-[1400px] px-4 md:px-8 h-14 flex items-center justify-between\">\n        <Marca />\n        <div className=\"flex items-center gap-2\">\n          <Button variant=\"ghost\" size=\"icon\" className=\"rounded-xl\"><Bell className=\"h-5 w-5\" /></Button>\n          <div className=\"flex items-center gap-2 rounded-2xl px-2 py-1 bg-slate-200 text-slate-900\">\n            <div className=\"size-6 rounded-xl bg-white/70 border\" />\n            <div className=\"text-xs leading-tight\">\n              <div className=\"font-semibold\">{user?.email ? user.email.split('@')[0] : 'Ivan'}</div>\n              <div className=\"opacity-70\">Admin</div>\n            </div>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={onLogout}\n            className=\"text-gray-600 hover:text-gray-800 rounded-xl\"\n          >\n            Sair\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction Sidebar({ ativo, aoTrocar }) {\n  return (\n    <aside className=\"hidden md:flex md:flex-col w-72 shrink-0 border-r bg-white/80 backdrop-blur-xl rounded-r-3xl overflow-hidden\">\n      <div className=\"p-5 border-b\">\n        <div className=\"flex items-center justify-between\">\n          <Marca />\n          <Badge variant=\"secondary\" className=\"gap-1\"><ShieldCheck className=\"h-3 w-3\"/>Pro</Badge>\n        </div>\n      </div>\n      <nav className=\"p-3 space-y-2\">\n        {menu.map((item) => {\n          const Icone = item.icone;\n          const isAtivo = ativo === item.chave;\n          return (\n            <motion.button\n              key={item.chave}\n              onClick={() => aoTrocar(item.chave)}\n              whileHover={{ scale: 1.01 }}\n              className={`w-full flex items-center gap-3 rounded-2xl px-3.5 py-3 text-left transition border ${\n                isAtivo\n                  ? \"bg-sky-100 text-sky-900 border-sky-300 shadow\"\n                  : \"hover:bg-slate-50 border-transparent\"\n              }`}\n            >\n              <Icone className=\"h-5 w-5\" />\n              <span className=\"text-sm font-semibold\">{item.titulo}</span>\n              <ChevronRight className={`ml-auto h-4 w-4 ${isAtivo ? \"opacity-100\" : \"opacity-50\"}`} />\n            </motion.button>\n          );\n        })}\n      </nav>\n      <div className=\"mt-auto p-5 text-xs text-muted-foreground\">\n        <div className=\"rounded-2xl p-4 border bg-white/70\">\n          <div className=\"font-semibold mb-1\">Dica</div>\n          Use o menu para navegar entre módulos.\n        </div>\n      </div>\n    </aside>\n  );\n}\n\nfunction CartaoKPI({ titulo, valor, subtitulo, destaque=false }) {\n  return (\n    <motion.div initial={{ opacity: 0, y: 8 }} animate={{ opacity: 1, y: 0 }}>\n      <Card className={`transition overflow-hidden ${destaque ? \"border-sky-200\" : \"\"}`}>\n        {destaque ? (\n          <div className=\"p-5 bg-sky-500/90 text-white\">\n            <div className=\"text-sm/5 opacity-90\">{titulo}</div>\n            <div className=\"text-4xl font-extrabold tracking-tight mt-1\">{valor}</div>\n            {subtitulo && <div className=\"text-xs/5 opacity-90 mt-1\">{subtitulo}</div>}\n          </div>\n        ) : (\n          <>\n            <CardHeader>\n              <CardTitle className=\"text-sm font-semibold tracking-tight\">{titulo}</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-3xl font-bold\">{valor}</div>\n              {subtitulo && (\n                <div className=\"text-xs text-muted-foreground mt-1\">{subtitulo}</div>\n              )}\n            </CardContent>\n          </>\n        )}\n      </Card>\n    </motion.div>\n  );\n}\n\n// ---------- Seções ----------\nfunction SecaoVisaoGeral() {\n  const ativos = dadosAlunosExemplo.filter((a) => a.status === \"ativo\").length;\n  const pendentes = dadosCobrancasAlunoExemplo.filter((c) => c.status !== \"pago\").length;\n  const baixoEstoque = dadosMateriaisExemplo.filter((m) => m.quantidade <= m.minimo).length;\n\n  return (\n    <div className=\"grid gap-6\">\n      {/* Hero */}\n      <div className=\"relative overflow-hidden rounded-3xl border bg-white/80 backdrop-blur-xl\">\n        <div className=\"relative p-6 md:p-10 grid md:grid-cols-2 gap-8 items-center\">\n          <div>\n            <div className=\"inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs bg-white/80\">\n              <LayoutGrid className=\"h-3.5 w-3.5\" /> Painel de Reforço Escolar\n            </div>\n            <h2 className=\"mt-3 text-3xl md:text-4xl font-extrabold tracking-tight\">\n              Gerencie alunos, reforços e finanças com <span className=\"text-sky-600\">leveza</span>\n            </h2>\n            <p className=\"mt-2 text-sm text-muted-foreground max-w-prose\">\n              Visão geral do dia, status de cobranças e estoque — tudo em um só lugar.\n            </p>\n          </div>\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3\">\n            <CartaoKPI titulo=\"Alunos ativos\" valor={ativos} subtitulo=\"no período\" destaque />\n            <CartaoKPI titulo=\"Cobranças pendentes\" valor={pendentes} subtitulo=\"CORA\" destaque />\n            <CartaoKPI titulo=\"Itens críticos\" valor={baixoEstoque} subtitulo=\"Estoque\" destaque />\n          </div>\n        </div>\n      </div>\n\n      {/* Próximas aulas */}\n      <Card className=\"overflow-hidden\">\n        <CardHeader className=\"border-b bg-slate-50\">\n          <div className=\"flex items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\"><BookOpen className=\"h-4 w-4\"/> Próximas aulas de reforço</CardTitle>\n            <Badge variant=\"secondary\" className=\"gap-1\"><Crown className=\"h-3 w-3\"/>Destaque</Badge>\n          </div>\n        </CardHeader>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Aluno</TableHead>\n                <TableHead>Disciplina</TableHead>\n                <TableHead>Assunto</TableHead>\n                <TableHead>Próxima aula</TableHead>\n                <TableHead>Plano</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {dadosReforcosExemplo.map((r) => (\n                <TableRow key={r.id} className=\"hover:bg-slate-50/80\">\n                  <TableCell>{r.aluno}</TableCell>\n                  <TableCell>{r.disciplina}</TableCell>\n                  <TableCell>{r.assunto}</TableCell>\n                  <TableCell>{r.proximaAula}</TableCell>\n                  <TableCell>\n                    <Badge variant=\"secondary\">{r.plano}</Badge>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction SecaoAlunos() {\n  return <Students />;\n}\n\nfunction SecaoReforcos() {\n  return <Tutorings />;\n}\n\nfunction SecaoMateriais() {\n  return <Materials />;\n}\n\nfunction SecaoFinanceiroAluno() {\n  return <Payments />;\n}\n\nfunction SecaoFinanceiroEmpresa() {\n  return (\n    <div className=\"grid gap-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <div className=\"text-lg font-semibold\">Recebíveis (SICOOB)</div>\n          <div className=\"text-sm text-muted-foreground\">Faturas do cliente para sua empresa</div>\n        </div>\n        <Button className=\"gap-2 rounded-xl bg-sky-500 hover:bg-sky-600\"><Receipt className=\"h-4 w-4\" /> Gerar fatura</Button>\n      </div>\n\n      <Card className=\"overflow-hidden\">\n        <CardHeader className=\"border-b bg-slate-50\">\n          <CardTitle>Faturas</CardTitle>\n        </CardHeader>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Descrição</TableHead>\n                <TableHead>Valor</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Banco</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {dadosFinanceiroEmpresaExemplo.map((f) => (\n                <TableRow key={f.id} className=\"hover:bg-slate-50/80\">\n                  <TableCell className=\"font-medium\">{f.descricao}</TableCell>\n                  <TableCell>R$ {f.valor.toFixed(2)}</TableCell>\n                  <TableCell>\n                    {f.status === \"pago\" && <Badge className=\"bg-emerald-600 hover:bg-emerald-600\">Pago</Badge>}\n                    {f.status === \"pendente\" && <Badge className=\"bg-amber-500 hover:bg-amber-500\">Pendente</Badge>}\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{f.banco}</Badge>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nfunction SecaoRelatorios() {\n  return (\n    <Card className=\"overflow-hidden\">\n      <CardHeader className=\"border-b bg-slate-50\">\n        <CardTitle>Relatórios (mock)</CardTitle>\n      </CardHeader>\n      <CardContent className=\"text-sm text-muted-foreground\">\n        Exportações e gráficos podem entrar aqui (alunos, frequência, faturamento, estoque). Somente UI.\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction SecaoConfig() {\n  const [alunosAtuais, setAlunosAtuais] = useState(15);\n  const precoBase = 100; // base simbólica\n  const precoPorAluno = 1.2; // por aluno (ajustável)\n  const total = useMemo(() => precoBase + alunosAtuais * precoPorAluno, [alunosAtuais]);\n\n  return (\n    <div className=\"grid gap-6\">\n      <Card className=\"overflow-hidden\">\n        <CardHeader className=\"border-b bg-slate-50\">\n          <CardTitle>Plano e precificação</CardTitle>\n        </CardHeader>\n        <CardContent className=\"grid md:grid-cols-2 gap-6 p-6\">\n          <div className=\"space-y-3\">\n            <div>\n              <Label className=\"text-sm\">Alunos atuais</Label>\n              <Input\n                type=\"number\"\n                value={alunosAtuais}\n                onChange={(e) => setAlunosAtuais(parseInt(e.target.value || \"0\"))}\n                min={0}\n                className=\"rounded-xl\"\n              />\n            </div>\n            <div className=\"text-sm text-muted-foreground\">Base: R$ {precoBase.toFixed(2)} • Por aluno: R$ {precoPorAluno.toFixed(2)}</div>\n          </div>\n          <div className=\"grid grid-cols-2 gap-3\">\n            <CartaoKPI titulo=\"Total simulado\" valor={`R$ ${total.toFixed(2)}`} subtitulo=\"mensal\" destaque />\n            <CartaoKPI titulo=\"Margem estimada\" valor={`R$ ${(total * 0.35).toFixed(2)}`} subtitulo=\"exemplo\" />\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card className=\"overflow-hidden\">\n        <CardHeader className=\"border-b bg-slate-50\">\n          <CardTitle>Integrações (mock)</CardTitle>\n        </CardHeader>\n        <CardContent className=\"grid md:grid-cols-2 gap-6 p-6\">\n          <div className=\"space-y-2\">\n            <div className=\"text-sm font-medium\">CORA (Cobranças aluno)</div>\n            <Badge variant=\"secondary\">Sandbox conectado</Badge>\n          </div>\n          <div className=\"space-y-2\">\n            <div className=\"text-sm font-medium\">SICOOB (Recebíveis empresa)</div>\n            <Badge variant=\"secondary\">Webhook ativo</Badge>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default function Dashboard({ user, onLogout }) {\n  const [aba, setAba] = useState(\"visao\");\n\n  return (\n    <div className=\"min-h-screen bg-slate-50\">\n      <Topo user={user} onLogout={onLogout} />\n\n      <div className=\"mx-auto max-w-[1400px] px-4 md:px-8 py-6 md:py-10 flex gap-6\">\n        <Sidebar ativo={aba} aoTrocar={setAba} />\n\n        <main className=\"flex-1\">\n          <motion.header\n            initial={{ opacity: 0, y: -8 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"mb-6\"\n          >\n            <div>\n              <h1 className=\"text-2xl md:text-3xl font-extrabold tracking-tight\">\n                {menu.find(m => m.chave === aba)?.titulo}\n              </h1>\n              <p className=\"text-sm text-muted-foreground\">Gerencie seus dados de forma eficiente</p>\n            </div>\n          </motion.header>\n\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"space-y-6\">\n            {aba === \"visao\" && <SecaoVisaoGeral />}\n            {aba === \"alunos\" && <SecaoAlunos />}\n            {aba === \"reforcos\" && <SecaoReforcos />}\n            {aba === \"materiais\" && <SecaoMateriais />}\n            {aba === \"financeiro-aluno\" && <SecaoFinanceiroAluno />}\n            {aba === \"financeiro-empresa\" && <SecaoFinanceiroEmpresa />}\n            {aba === \"relatorios\" && <SecaoRelatorios />}\n            {aba === \"config\" && <SecaoConfig />}\n          </motion.div>\n        </main>\n      </div>\n    </div>\n  );\n}\n","size_bytes":17399},"src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* Custom tokens */\n:root {\n  --radius: 12px;\n}\n","size_bytes":108},"src/components/Students/StudentsList.jsx":{"content":"import React from 'react';\n\nconst StudentsList = ({ \n  students, \n  loading, \n  pagination, \n  filters, \n  onPageChange, \n  onFiltersChange,\n  onEdit,\n  onDelete\n}) => {\n  \n  // Função para formatar data\n  const formatDate = (dateString) => {\n    if (!dateString) return '-';\n    return new Date(dateString).toLocaleDateString('pt-BR');\n  };\n\n  // Função para obter cor do status\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'ACTIVE':\n        return 'bg-green-100 text-green-800';\n      case 'INACTIVE':\n        return 'bg-red-100 text-red-800';\n      case 'SUSPENDED':\n        return 'bg-yellow-100 text-yellow-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // Função para obter texto do status\n  const getStatusText = (status) => {\n    switch (status) {\n      case 'ACTIVE':\n        return 'Ativo';\n      case 'INACTIVE':\n        return 'Inativo';\n      case 'SUSPENDED':\n        return 'Suspenso';\n      default:\n        return 'Indefinido';\n    }\n  };\n\n  // Manipular mudança de filtros\n  const handleSearchChange = (e) => {\n    const newFilters = { ...filters, search: e.target.value };\n    onFiltersChange(newFilters);\n  };\n\n  const handleStatusChange = (e) => {\n    const newFilters = { ...filters, status: e.target.value };\n    onFiltersChange(newFilters);\n  };\n\n  // Renderizar paginação\n  const renderPagination = () => {\n    // Validar se pagination tem valores válidos\n    const currentPage = Number(pagination.page) || 1;\n    const totalPages = Number(pagination.totalPages) || 1;\n    const limit = Number(pagination.limit) || 10;\n    const total = Number(pagination.total) || 0;\n\n    if (totalPages <= 1) return null;\n\n    const pages = [];\n    const maxVisiblePages = 5;\n    let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));\n    let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);\n\n    if (endPage - startPage + 1 < maxVisiblePages) {\n      startPage = Math.max(1, endPage - maxVisiblePages + 1);\n    }\n\n    for (let i = startPage; i <= endPage; i++) {\n      pages.push(i);\n    }\n\n    // Calcular valores para exibição\n    const startItem = Math.max(1, ((currentPage - 1) * limit) + 1);\n    const endItem = Math.min(currentPage * limit, total);\n\n    return (\n      <div className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n        <div className=\"flex-1 flex justify-between sm:hidden\">\n          <button\n            onClick={() => onPageChange(currentPage - 1)}\n            disabled={currentPage === 1}\n            className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Anterior\n          </button>\n          <button\n            onClick={() => onPageChange(currentPage + 1)}\n            disabled={currentPage === totalPages}\n            className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Próximo\n          </button>\n        </div>\n        <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n          <div>\n            <p className=\"text-sm text-gray-700\">\n              Mostrando <span className=\"font-medium\">{startItem}</span> até{' '}\n              <span className=\"font-medium\">{endItem}</span>{' '}\n              de <span className=\"font-medium\">{total}</span> resultados\n            </p>\n          </div>\n          <div>\n            <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n              <button\n                onClick={() => onPageChange(currentPage - 1)}\n                disabled={currentPage === 1}\n                className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <svg className=\"h-5 w-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                </svg>\n              </button>\n              {pages.map((page) => (\n                <button\n                  key={page}\n                  onClick={() => onPageChange(page)}\n                  className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\n                    page === currentPage\n                      ? 'z-10 bg-blue-50 border-blue-500 text-blue-600'\n                      : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\n                  }`}\n                >\n                  {page}\n                </button>\n              ))}\n              <button\n                onClick={() => onPageChange(currentPage + 1)}\n                disabled={currentPage === totalPages}\n                className=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                <svg className=\"h-5 w-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" />\n                </svg>\n              </button>\n            </nav>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-4 py-5 sm:p-6\">\n          <div className=\"flex justify-center items-center h-64\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      {/* Filtros */}\n      <div className=\"px-4 py-5 sm:p-6 border-b border-gray-200\">\n        <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3\">\n          <div>\n            <label htmlFor=\"search\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Buscar\n            </label>\n            <input\n              type=\"text\"\n              id=\"search\"\n              value={filters.search}\n              onChange={handleSearchChange}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"Nome ou email...\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"status\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Status\n            </label>\n            <select\n              id=\"status\"\n              value={filters.status}\n              onChange={handleStatusChange}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Todos</option>\n              <option value=\"ACTIVE\">Ativo</option>\n              <option value=\"INACTIVE\">Inativo</option>\n              <option value=\"SUSPENDED\">Suspenso</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Tabela */}\n      <div className=\"overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Nome\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Email\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Telefone\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Série\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Cadastrado em\n                </th>\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Ações\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {students.length === 0 ? (\n                <tr>\n                  <td colSpan=\"7\" className=\"px-6 py-12 text-center text-gray-500\">\n                    <div className=\"flex flex-col items-center\">\n                      <svg className=\"w-12 h-12 text-gray-400 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\" />\n                      </svg>\n                      <p className=\"text-lg font-medium\">Nenhum aluno encontrado</p>\n                      <p className=\"text-sm\">Tente ajustar os filtros ou adicione um novo aluno</p>\n                    </div>\n                  </td>\n                </tr>\n              ) : (\n                students.map((student) => (\n                  <tr key={student.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      {student.name}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {student.email}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {student.phone || '-'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {student.grade || '-'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(student.status)}`}>\n                        {getStatusText(student.status)}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {formatDate(student.createdAt)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                      <div className=\"flex justify-end space-x-2\">\n                        <button\n                          onClick={() => onEdit(student)}\n                          className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\n                          title=\"Editar aluno\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                          </svg>\n                        </button>\n                        <button\n                          onClick={() => onDelete(student)}\n                          className=\"text-red-600 hover:text-red-900 p-1 rounded\"\n                          title=\"Excluir aluno\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                          </svg>\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Paginação */}\n      {renderPagination()}\n    </div>\n  );\n};\n\nexport default StudentsList;","size_bytes":12792},"vite.config.js":{"content":"import { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\nimport path from 'path'\n\nexport default defineConfig({\n  plugins: [react()],\n  resolve: {\n    alias: {\n      '@': path.resolve(__dirname, './src'),\n    },\n  },\n  server: {\n    host: '0.0.0.0',\n    port: 5000,\n    allowedHosts: true\n  }\n})\n","size_bytes":316},"src/services/studentsApi.js":{"content":"import api from './api';\n\n// Serviços para gerenciar alunos\nexport const studentsApi = {\n  // Listar todos os alunos com paginação e filtros\n  getAll: async (params = {}) => {\n    try {\n      const { page = 1, limit = 10, search = '', status = '' } = params;\n      const queryParams = new URLSearchParams({\n        page: page.toString(),\n        limit: limit.toString(),\n        ...(search && { search }),\n        ...(status && { status })\n      });\n\n      const response = await api.get(`/students?${queryParams}`);\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao buscar alunos:', error);\n      throw error;\n    }\n  },\n\n  // Buscar aluno por ID\n  getById: async (id) => {\n    try {\n      const response = await api.get(`/students/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao buscar aluno:', error);\n      throw error;\n    }\n  },\n\n  // Criar novo aluno\n  create: async (studentData) => {\n    try {\n      const response = await api.post('/students', studentData);\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao criar aluno:', error);\n      throw error;\n    }\n  },\n\n  // Atualizar aluno existente\n  update: async (id, studentData) => {\n    try {\n      const response = await api.put(`/students/${id}`, studentData);\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao atualizar aluno:', error);\n      throw error;\n    }\n  },\n\n  // Deletar aluno\n  delete: async (id) => {\n    try {\n      const response = await api.delete(`/students/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao deletar aluno:', error);\n      throw error;\n    }\n  },\n\n  // Buscar estatísticas dos alunos\n  getStats: async () => {\n    try {\n      const response = await api.get('/students/stats');\n      return response.data;\n    } catch (error) {\n      console.error('Erro ao buscar estatísticas:', error);\n      throw error;\n    }\n  }\n};\n\nexport default studentsApi;","size_bytes":2011},"src/App.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport LandingPage from './components/LandingPage';\nimport Login from './components/Login';\nimport Dashboard from './Dashboard';\nimport { authService, utils } from './services/api';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Verificar se o usuário já está logado ao carregar a aplicação\n  useEffect(() => {\n    const checkAuth = async () => {\n      const token = localStorage.getItem('token');\n      const savedUser = utils.getCurrentUser();\n      \n      if (token && savedUser && utils.isTokenValid()) {\n        // Verificar se o token ainda é válido no servidor\n        const result = await authService.me();\n        if (result.success) {\n          setUser(result.data.user);\n        } else {\n          // Token inválido, limpar dados\n          utils.clearAuth();\n        }\n      }\n      \n      setIsLoading(false);\n    };\n\n    checkAuth();\n  }, []);\n\n  const handleLogin = (userData) => {\n    setUser(userData);\n  };\n\n  const handleLogout = async () => {\n    await authService.logout();\n    setUser(null);\n  };\n\n  // Mostrar loading enquanto verifica autenticação\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Carregando...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <Routes>\n        {/* Rota pública - Landing Page */}\n        <Route \n          path=\"/\" \n          element={\n            user ? <Navigate to=\"/dashboard\" replace /> : <LandingPage />\n          } \n        />\n        \n        {/* Rota de Login */}\n        <Route \n          path=\"/login\" \n          element={\n            user ? <Navigate to=\"/dashboard\" replace /> : <Login onLogin={handleLogin} />\n          } \n        />\n        \n        {/* Rota protegida - Dashboard */}\n        <Route \n          path=\"/dashboard\" \n          element={\n            user ? (\n              <Dashboard user={user} onLogout={handleLogout} />\n            ) : (\n              <Navigate to=\"/login\" replace />\n            )\n          } \n        />\n        \n        {/* Redirecionar rotas não encontradas */}\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;","size_bytes":2621},"backend/src/routes/payments.js":{"content":"const express = require('express');\nconst { prisma } = require('../config/database');\nconst { authenticateToken, canAccessStudent } = require('../middleware/auth');\n\nconst router = express.Router();\n\n// Listar pagamentos\nrouter.get('/', authenticateToken, async (req, res) => {\n  try {\n    const { page = 1, limit = 10, studentId, status, startDate, endDate } = req.query;\n    const skip = (page - 1) * limit;\n\n    // Construir filtros\n    const where = {};\n    \n    // Se não for admin, filtrar apenas pagamentos dos alunos do professor\n    if (req.user.role !== 'ADMIN') {\n      where.student = {\n        teacherId: req.user.id\n      };\n    }\n\n    // Filtro por aluno\n    if (studentId) {\n      where.studentId = studentId;\n    }\n\n    // Filtro por status\n    if (status) {\n      where.status = status;\n    }\n\n    // Filtro por período\n    if (startDate || endDate) {\n      where.dueDate = {};\n      if (startDate) {\n        where.dueDate.gte = new Date(startDate);\n      }\n      if (endDate) {\n        where.dueDate.lte = new Date(endDate);\n      }\n    }\n\n    // Buscar pagamentos\n    const [payments, total] = await Promise.all([\n      prisma.payment.findMany({\n        where,\n        skip: parseInt(skip),\n        take: parseInt(limit),\n        include: {\n          student: {\n            select: {\n              id: true,\n              name: true,\n              email: true,\n              grade: true\n            }\n          }\n        },\n        orderBy: { dueDate: 'desc' }\n      }),\n      prisma.payment.count({ where })\n    ]);\n\n    res.json({\n      payments,\n      pagination: {\n        page: parseInt(page),\n        limit: parseInt(limit),\n        total,\n        pages: Math.ceil(total / limit)\n      }\n    });\n\n  } catch (error) {\n    console.error('Erro ao listar pagamentos:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Buscar pagamento por ID\nrouter.get('/:id', authenticateToken, async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    const payment = await prisma.payment.findUnique({\n      where: { id },\n      include: {\n        student: {\n          select: {\n            id: true,\n            name: true,\n            email: true,\n            grade: true,\n            teacher: {\n              select: {\n                id: true,\n                name: true\n              }\n            }\n          }\n        }\n      }\n    });\n\n    if (!payment) {\n      return res.status(404).json({\n        error: 'Pagamento não encontrado'\n      });\n    }\n\n    // Verificar se o usuário pode acessar este pagamento\n    if (req.user.role !== 'ADMIN' && payment.student.teacher.id !== req.user.id) {\n      return res.status(403).json({\n        error: 'Acesso negado'\n      });\n    }\n\n    res.json(payment);\n\n  } catch (error) {\n    console.error('Erro ao buscar pagamento:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Criar novo pagamento\nrouter.post('/', authenticateToken, async (req, res) => {\n  try {\n    const {\n      studentId,\n      amount,\n      description,\n      dueDate,\n      referenceMonth\n    } = req.body;\n\n    // Validações\n    if (!studentId || !amount || !dueDate) {\n      return res.status(400).json({\n        error: 'Aluno, valor e data de vencimento são obrigatórios'\n      });\n    }\n\n    if (amount <= 0) {\n      return res.status(400).json({\n        error: 'O valor deve ser maior que zero'\n      });\n    }\n\n    // Verificar se o aluno existe e se o professor pode acessá-lo\n    const student = await prisma.student.findUnique({\n      where: { id: studentId },\n      select: { \n        id: true, \n        teacherId: true,\n        name: true\n      }\n    });\n\n    if (!student) {\n      return res.status(404).json({\n        error: 'Aluno não encontrado'\n      });\n    }\n\n    // Se não for admin, verificar se é o professor do aluno\n    if (req.user.role !== 'ADMIN' && student.teacherId !== req.user.id) {\n      return res.status(403).json({\n        error: 'Você só pode criar pagamentos para seus próprios alunos'\n      });\n    }\n\n    // Criar pagamento\n    const payment = await prisma.payment.create({\n      data: {\n        studentId,\n        amount: parseFloat(amount),\n        description,\n        dueDate: new Date(dueDate),\n        referenceMonth\n      },\n      include: {\n        student: {\n          select: {\n            id: true,\n            name: true,\n            email: true,\n            grade: true\n          }\n        }\n      }\n    });\n\n    res.status(201).json({\n      message: 'Pagamento criado com sucesso',\n      payment\n    });\n\n  } catch (error) {\n    console.error('Erro ao criar pagamento:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Atualizar pagamento\nrouter.put('/:id', authenticateToken, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const {\n      amount,\n      description,\n      dueDate,\n      referenceMonth,\n      status,\n      paidAt,\n      paymentMethod,\n      notes\n    } = req.body;\n\n    // Verificar se o pagamento existe e se o usuário pode acessá-lo\n    const existingPayment = await prisma.payment.findUnique({\n      where: { id },\n      include: {\n        student: {\n          select: {\n            teacherId: true\n          }\n        }\n      }\n    });\n\n    if (!existingPayment) {\n      return res.status(404).json({\n        error: 'Pagamento não encontrado'\n      });\n    }\n\n    // Verificar permissões\n    if (req.user.role !== 'ADMIN' && existingPayment.student.teacherId !== req.user.id) {\n      return res.status(403).json({\n        error: 'Acesso negado'\n      });\n    }\n\n    // Preparar dados para atualização\n    const updateData = {};\n    if (amount !== undefined) {\n      if (amount <= 0) {\n        return res.status(400).json({\n          error: 'O valor deve ser maior que zero'\n        });\n      }\n      updateData.amount = parseFloat(amount);\n    }\n    if (description) updateData.description = description;\n    if (dueDate) updateData.dueDate = new Date(dueDate);\n    if (referenceMonth) updateData.referenceMonth = referenceMonth;\n    if (status) updateData.status = status;\n    if (paidAt) updateData.paidAt = new Date(paidAt);\n    if (paymentMethod) updateData.paymentMethod = paymentMethod;\n    if (notes) updateData.notes = notes;\n\n    // Se está marcando como pago e não tem data de pagamento, usar data atual\n    if (status === 'PAID' && !paidAt && !existingPayment.paidAt) {\n      updateData.paidAt = new Date();\n    }\n\n    // Atualizar pagamento\n    const payment = await prisma.payment.update({\n      where: { id },\n      data: updateData,\n      include: {\n        student: {\n          select: {\n            id: true,\n            name: true,\n            email: true,\n            grade: true\n          }\n        }\n      }\n    });\n\n    res.json({\n      message: 'Pagamento atualizado com sucesso',\n      payment\n    });\n\n  } catch (error) {\n    console.error('Erro ao atualizar pagamento:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Deletar pagamento\nrouter.delete('/:id', authenticateToken, async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    // Verificar se o pagamento existe e se o usuário pode acessá-lo\n    const payment = await prisma.payment.findUnique({\n      where: { id },\n      include: {\n        student: {\n          select: {\n            teacherId: true\n          }\n        }\n      }\n    });\n\n    if (!payment) {\n      return res.status(404).json({\n        error: 'Pagamento não encontrado'\n      });\n    }\n\n    // Verificar permissões\n    if (req.user.role !== 'ADMIN' && payment.student.teacherId !== req.user.id) {\n      return res.status(403).json({\n        error: 'Acesso negado'\n      });\n    }\n\n    // Deletar pagamento\n    await prisma.payment.delete({\n      where: { id }\n    });\n\n    res.json({\n      message: 'Pagamento deletado com sucesso'\n    });\n\n  } catch (error) {\n    console.error('Erro ao deletar pagamento:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Marcar pagamento como pago\nrouter.patch('/:id/pay', authenticateToken, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const { paymentMethod, notes } = req.body;\n\n    // Verificar se o pagamento existe e se o usuário pode acessá-lo\n    const existingPayment = await prisma.payment.findUnique({\n      where: { id },\n      include: {\n        student: {\n          select: {\n            teacherId: true\n          }\n        }\n      }\n    });\n\n    if (!existingPayment) {\n      return res.status(404).json({\n        error: 'Pagamento não encontrado'\n      });\n    }\n\n    // Verificar permissões\n    if (req.user.role !== 'ADMIN' && existingPayment.student.teacherId !== req.user.id) {\n      return res.status(403).json({\n        error: 'Acesso negado'\n      });\n    }\n\n    // Atualizar status para pago\n    const payment = await prisma.payment.update({\n      where: { id },\n      data: {\n        status: 'PAID',\n        paidAt: new Date(),\n        paymentMethod,\n        notes\n      },\n      include: {\n        student: {\n          select: {\n            id: true,\n            name: true,\n            email: true,\n            grade: true\n          }\n        }\n      }\n    });\n\n    res.json({\n      message: 'Pagamento marcado como pago',\n      payment\n    });\n\n  } catch (error) {\n    console.error('Erro ao marcar pagamento como pago:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Relatório de pagamentos por período\nrouter.get('/reports/period', authenticateToken, async (req, res) => {\n  try {\n    const { startDate, endDate, studentId } = req.query;\n\n    if (!startDate || !endDate) {\n      return res.status(400).json({\n        error: 'Data de início e fim são obrigatórias'\n      });\n    }\n\n    const where = {\n      dueDate: {\n        gte: new Date(startDate),\n        lte: new Date(endDate)\n      }\n    };\n\n    // Se não for admin, filtrar apenas pagamentos dos alunos do professor\n    if (req.user.role !== 'ADMIN') {\n      where.student = {\n        teacherId: req.user.id\n      };\n    }\n\n    // Filtro por aluno específico\n    if (studentId) {\n      where.studentId = studentId;\n    }\n\n    const payments = await prisma.payment.findMany({\n      where,\n      include: {\n        student: {\n          select: {\n            id: true,\n            name: true,\n            email: true\n          }\n        }\n      },\n      orderBy: { dueDate: 'asc' }\n    });\n\n    // Calcular estatísticas\n    const stats = {\n      total: payments.length,\n      paid: payments.filter(p => p.status === 'PAID').length,\n      pending: payments.filter(p => p.status === 'PENDING').length,\n      overdue: payments.filter(p => p.status === 'OVERDUE').length,\n      totalAmount: payments.reduce((sum, p) => sum + p.amount, 0),\n      paidAmount: payments.filter(p => p.status === 'PAID').reduce((sum, p) => sum + p.amount, 0),\n      pendingAmount: payments.filter(p => p.status !== 'PAID').reduce((sum, p) => sum + p.amount, 0)\n    };\n\n    res.json({\n      payments,\n      stats,\n      period: {\n        startDate,\n        endDate\n      }\n    });\n\n  } catch (error) {\n    console.error('Erro ao gerar relatório de pagamentos:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\nmodule.exports = router;","size_bytes":11400},"src/components/common/Toast.jsx":{"content":"import React, { useState, useEffect } from 'react';\n\nconst Toast = ({ message, type = 'success', duration = 3000, onClose }) => {\n  const [isVisible, setIsVisible] = useState(true);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsVisible(false);\n      setTimeout(() => {\n        onClose && onClose();\n      }, 300); // Aguarda a animação de saída\n    }, duration);\n\n    return () => clearTimeout(timer);\n  }, [duration, onClose]);\n\n  const getToastStyles = () => {\n    const baseStyles = \"fixed top-4 right-4 max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden z-50 transform transition-all duration-300 ease-in-out\";\n    \n    if (!isVisible) {\n      return `${baseStyles} translate-x-full opacity-0`;\n    }\n    \n    return `${baseStyles} translate-x-0 opacity-100`;\n  };\n\n  const getIconAndColors = () => {\n    switch (type) {\n      case 'success':\n        return {\n          icon: (\n            <svg className=\"w-6 h-6 text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          ),\n          bgColor: 'bg-green-50',\n          textColor: 'text-green-800',\n          borderColor: 'border-green-200'\n        };\n      case 'error':\n        return {\n          icon: (\n            <svg className=\"w-6 h-6 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          ),\n          bgColor: 'bg-red-50',\n          textColor: 'text-red-800',\n          borderColor: 'border-red-200'\n        };\n      case 'warning':\n        return {\n          icon: (\n            <svg className=\"w-6 h-6 text-yellow-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n            </svg>\n          ),\n          bgColor: 'bg-yellow-50',\n          textColor: 'text-yellow-800',\n          borderColor: 'border-yellow-200'\n        };\n      case 'info':\n        return {\n          icon: (\n            <svg className=\"w-6 h-6 text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n          ),\n          bgColor: 'bg-blue-50',\n          textColor: 'text-blue-800',\n          borderColor: 'border-blue-200'\n        };\n      default:\n        return {\n          icon: null,\n          bgColor: 'bg-gray-50',\n          textColor: 'text-gray-800',\n          borderColor: 'border-gray-200'\n        };\n    }\n  };\n\n  const { icon, bgColor, textColor, borderColor } = getIconAndColors();\n\n  const handleClose = () => {\n    setIsVisible(false);\n    setTimeout(() => {\n      onClose && onClose();\n    }, 300);\n  };\n\n  return (\n    <div className={getToastStyles()}>\n      <div className={`p-4 border ${borderColor} ${bgColor}`}>\n        <div className=\"flex items-start\">\n          <div className=\"flex-shrink-0\">\n            {icon}\n          </div>\n          <div className=\"ml-3 w-0 flex-1 pt-0.5\">\n            <p className={`text-sm font-medium ${textColor}`}>\n              {message}\n            </p>\n          </div>\n          <div className=\"ml-4 flex-shrink-0 flex\">\n            <button\n              onClick={handleClose}\n              className={`rounded-md inline-flex ${textColor} hover:${textColor.replace('800', '600')} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-${bgColor.split('-')[1]}-50 focus:ring-${borderColor.split('-')[1]}-600`}\n            >\n              <span className=\"sr-only\">Fechar</span>\n              <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Hook para gerenciar toasts\nexport const useToast = () => {\n  const [toasts, setToasts] = useState([]);\n\n  const addToast = (message, type = 'success', duration = 3000) => {\n    const id = Date.now() + Math.random();\n    const newToast = { id, message, type, duration };\n    \n    setToasts(prev => [...prev, newToast]);\n  };\n\n  const removeToast = (id) => {\n    setToasts(prev => prev.filter(toast => toast.id !== id));\n  };\n\n  const ToastContainer = () => (\n    <div className=\"fixed top-4 right-4 z-50 space-y-2\">\n      {toasts.map(toast => (\n        <Toast\n          key={toast.id}\n          message={toast.message}\n          type={toast.type}\n          duration={toast.duration}\n          onClose={() => removeToast(toast.id)}\n        />\n      ))}\n    </div>\n  );\n\n  return {\n    addToast,\n    ToastContainer,\n    toasts, // Adicionando toasts para debug se necessário\n    success: (message, duration) => addToast(message, 'success', duration),\n    error: (message, duration) => addToast(message, 'error', duration),\n    warning: (message, duration) => addToast(message, 'warning', duration),\n    info: (message, duration) => addToast(message, 'info', duration)\n  };\n};\n\nexport default Toast;","size_bytes":5699},"backend/src/server.js":{"content":"const express = require('express');\nconst cors = require('cors');\nconst helmet = require('helmet');\nconst rateLimit = require('express-rate-limit');\nrequire('dotenv').config();\n\nconst authRoutes = require('./routes/auth');\nconst studentRoutes = require('./routes/students');\nconst tutoringRoutes = require('./routes/tutorings');\nconst materialRoutes = require('./routes/materials');\nconst paymentRoutes = require('./routes/payments');\n\nconst app = express();\nconst PORT = process.env.PORT || 3001;\n\n// Configurar trust proxy para Replit\napp.set('trust proxy', 1);\n\n// Middlewares de segurança\napp.use(helmet());\n\n// Rate limiting\nconst limiter = rateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutos\n  max: 100, // máximo 100 requests por IP por janela de tempo\n  message: {\n    error: 'Muitas tentativas. Tente novamente em 15 minutos.'\n  }\n});\napp.use(limiter);\n\n// CORS\napp.use(cors({\n  origin: process.env.FRONTEND_URL || true,\n  credentials: true\n}));\n\n// Parse JSON\napp.use(express.json({ limit: '10mb' }));\napp.use(express.urlencoded({ extended: true }));\n\n// Rotas\napp.use('/api/auth', authRoutes);\napp.use('/api/students', studentRoutes);\napp.use('/api/tutorings', tutoringRoutes);\napp.use('/api/materials', materialRoutes);\napp.use('/api/payments', paymentRoutes);\n\n// Rota de health check\napp.get('/api/health', (req, res) => {\n  res.json({ \n    status: 'OK', \n    timestamp: new Date().toISOString(),\n    environment: process.env.NODE_ENV \n  });\n});\n\n// Middleware de tratamento de erros\napp.use((err, req, res, next) => {\n  console.error('Error:', err);\n  \n  if (err.name === 'ValidationError') {\n    return res.status(400).json({\n      error: 'Dados inválidos',\n      details: err.message\n    });\n  }\n  \n  if (err.name === 'UnauthorizedError') {\n    return res.status(401).json({\n      error: 'Token inválido ou expirado'\n    });\n  }\n  \n  res.status(500).json({\n    error: 'Erro interno do servidor'\n  });\n});\n\n// Middleware para rotas não encontradas\napp.use((req, res) => {\n  res.status(404).json({\n    error: 'Rota não encontrada'\n  });\n});\n\napp.listen(PORT, () => {\n  console.log(`🚀 Servidor rodando na porta ${PORT}`);\n  console.log(`📊 Environment: ${process.env.NODE_ENV}`);\n  console.log(`🌐 CORS habilitado para: ${process.env.FRONTEND_URL}`);\n});","size_bytes":2283},"src/pages/Students.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport StudentsList from '../components/Students/StudentsList';\nimport StudentForm from '../components/Students/StudentForm';\nimport DeleteConfirmModal from '../components/Students/DeleteConfirmModal';\nimport { useToast } from '../components/common/Toast';\nimport { studentsApi } from '../services/studentsApi';\n\nconst Students = () => {\n  const { success, error, ToastContainer } = useToast();\n  const [students, setStudents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [globalError, setGlobalError] = useState('');\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    total: 0,\n    totalPages: 0\n  });\n  const [filters, setFilters] = useState({\n    search: '',\n    status: ''\n  });\n\n  // Estados dos modais\n  const [showForm, setShowForm] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [selectedStudent, setSelectedStudent] = useState(null);\n  const [editingStudent, setEditingStudent] = useState(null);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n\n  // Carregar alunos\n  const loadStudents = async (page = 1, newFilters = filters) => {\n    try {\n      setLoading(true);\n      setGlobalError('');\n      \n      const response = await studentsApi.getAll({\n        page,\n        limit: pagination.limit,\n        ...newFilters\n      });\n\n      setStudents(response.students);\n      setPagination({\n        page: response.page,\n        limit: response.limit,\n        total: response.total,\n        totalPages: response.totalPages\n      });\n    } catch (err) {\n      console.error('Erro ao carregar alunos:', err);\n      const errorMessage = 'Erro ao carregar alunos. Tente novamente.';\n      setGlobalError(errorMessage);\n      error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Carregar alunos na inicialização\n  useEffect(() => {\n    loadStudents();\n  }, []);\n\n  // Manipular mudança de página\n  const handlePageChange = (newPage) => {\n    loadStudents(newPage);\n  };\n\n  // Manipular filtros\n  const handleFiltersChange = (newFilters) => {\n    setFilters(newFilters);\n    loadStudents(1, newFilters);\n  };\n\n  // Abrir formulário para novo aluno\n  const handleAddStudent = () => {\n    setEditingStudent(null);\n    setShowForm(true);\n  };\n\n  // Abrir formulário para editar aluno\n  const handleEditStudent = (student) => {\n    setEditingStudent(student);\n    setShowForm(true);\n  };\n\n  // Abrir modal de confirmação de exclusão\n  const handleDeleteStudent = (student) => {\n    setSelectedStudent(student);\n    setShowDeleteModal(true);\n  };\n\n  // Confirmar exclusão\n  const handleConfirmDelete = async (studentId) => {\n    try {\n      setDeleteLoading(true);\n      await studentsApi.delete(studentId);\n      \n      // Recarregar lista\n      await loadStudents(pagination.page);\n      \n      // Fechar modal\n      setShowDeleteModal(false);\n      setSelectedStudent(null);\n      \n      // Mostrar mensagem de sucesso\n      success('Aluno excluído com sucesso');\n    } catch (err) {\n      console.error('Erro ao excluir aluno:', err);\n      const errorMessage = 'Erro ao excluir aluno. Tente novamente.';\n      setGlobalError(errorMessage);\n      error(errorMessage);\n    } finally {\n      setDeleteLoading(false);\n    }\n  };\n\n  // Salvar aluno (criar ou editar)\n  const handleSaveStudent = async (studentData) => {\n    try {\n      if (editingStudent) {\n        // Editar aluno existente\n        await studentsApi.update(editingStudent.id, studentData);\n        success('Aluno atualizado com sucesso');\n      } else {\n        // Criar novo aluno\n        await studentsApi.create(studentData);\n        success('Aluno criado com sucesso');\n      }\n      \n      // Recarregar lista\n      await loadStudents(pagination.page);\n      \n      // Fechar modal\n      setShowForm(false);\n      setEditingStudent(null);\n    } catch (err) {\n      console.error('Erro ao salvar aluno:', err);\n      const errorMessage = editingStudent \n        ? 'Erro ao atualizar aluno. Tente novamente.'\n        : 'Erro ao criar aluno. Tente novamente.';\n      error(errorMessage);\n      throw err; // Re-throw para que o formulário possa tratar\n    }\n  };\n\n  // Cancelar operações\n  const handleCancel = () => {\n    setShowForm(false);\n    setShowDeleteModal(false);\n    setSelectedStudent(null);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        {/* Cabeçalho */}\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Alunos</h1>\n              <p className=\"mt-2 text-sm text-gray-600\">\n                Gerencie os alunos cadastrados no sistema\n              </p>\n            </div>\n            <button\n              onClick={handleAddStudent}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              <svg className=\"-ml-1 mr-2 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n              </svg>\n              Novo Aluno\n            </button>\n          </div>\n        </div>\n\n        {/* Mensagem de erro global */}\n        {error && (\n          <div className=\"px-4 sm:px-0 mb-4\">\n            <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n              <div className=\"flex\">\n                <div className=\"flex-shrink-0\">\n                  <svg className=\"h-5 w-5 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-red-600\">{error}</p>\n                </div>\n                <div className=\"ml-auto pl-3\">\n                  <button\n                    onClick={() => setError('')}\n                    className=\"text-red-400 hover:text-red-600\"\n                  >\n                    <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Lista de alunos */}\n        <div className=\"px-4 sm:px-0\">\n          <StudentsList\n          students={students}\n          loading={loading}\n          error={globalError}\n          pagination={pagination}\n          filters={filters}\n          onPageChange={handlePageChange}\n          onFiltersChange={handleFiltersChange}\n          onEdit={handleEditStudent}\n          onDelete={handleDeleteStudent}\n        />\n        </div>\n      </div>\n\n      {/* Modal do formulário */}\n      {showForm && (\n        <StudentForm\n          student={editingStudent}\n          onSave={handleSaveStudent}\n          onCancel={() => {\n            setShowForm(false);\n            setEditingStudent(null);\n          }}\n        />\n      )}\n\n      {/* Modal de confirmação de exclusão */}\n      {showDeleteModal && selectedStudent && (\n        <DeleteConfirmModal\n          student={selectedStudent}\n          loading={deleteLoading}\n          onConfirm={() => handleConfirmDelete(selectedStudent.id)}\n          onCancel={() => {\n            setShowDeleteModal(false);\n            setSelectedStudent(null);\n          }}\n        />\n      )}\n\n      {ToastContainer()}\n    </div>\n  );\n};\n\nexport default Students;","size_bytes":7994},"src/components/ui/table.jsx":{"content":"import React from 'react'\n\nexport function Table({ className = '', children, ...props }) {\n  return <table className={['w-full text-sm', className].join(' ')} {...props}>{children}</table>\n}\nexport function TableHeader({ className = '', children, ...props }) {\n  return <thead className={className} {...props}>{children}</thead>\n}\nexport function TableBody({ className = '', children, ...props }) {\n  return <tbody className={className} {...props}>{children}</tbody>\n}\nexport function TableRow({ className = '', children, ...props }) {\n  return <tr className={['border-b last:border-0', className].join(' ')} {...props}>{children}</tr>\n}\nexport function TableHead({ className = '', children, ...props }) {\n  return <th className={['text-left font-medium p-3 bg-slate-50', className].join(' ')} {...props}>{children}</th>\n}\nexport function TableCell({ className = '', children, ...props }) {\n  return <td className={['p-3 align-middle', className].join(' ')} {...props}>{children}</td>\n}\n","size_bytes":987},"backend/prisma/migrations/migration_lock.toml":{"content":"# Please do not edit this file manually\n# It should be added in your version-control system (e.g., Git)\nprovider = \"sqlite\"\n","size_bytes":124},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"backend/src/routes/materials.js":{"content":"const express = require('express');\nconst { prisma } = require('../config/database');\nconst { authenticateToken } = require('../middleware/auth');\n\nconst router = express.Router();\n\n// Listar materiais\nrouter.get('/', authenticateToken, async (req, res) => {\n  try {\n    const { page = 1, limit = 10, search } = req.query;\n    const skip = (page - 1) * limit;\n\n    // Construir filtros\n    const where = {};\n    \n    // Filtro por busca (SKU ou nome)\n    if (search) {\n      where.OR = [\n        { sku: { contains: search, mode: 'insensitive' } },\n        { name: { contains: search, mode: 'insensitive' } }\n      ];\n    }\n\n    // Buscar materiais\n    const [materials, total] = await Promise.all([\n      prisma.material.findMany({\n        where,\n        skip: parseInt(skip),\n        take: parseInt(limit),\n        orderBy: { createdAt: 'desc' }\n      }),\n      prisma.material.count({ where })\n    ]);\n\n    res.json({\n      materials,\n      pagination: {\n        page: parseInt(page),\n        limit: parseInt(limit),\n        total,\n        pages: Math.ceil(total / limit)\n      }\n    });\n\n  } catch (error) {\n    console.error('Erro ao listar materiais:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Buscar material por ID\nrouter.get('/:id', authenticateToken, async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    const material = await prisma.material.findUnique({\n      where: { id }\n    });\n\n    if (!material) {\n      return res.status(404).json({\n        error: 'Material não encontrado'\n      });\n    }\n\n    res.json(material);\n\n  } catch (error) {\n    console.error('Erro ao buscar material:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Criar novo material\nrouter.post('/', authenticateToken, async (req, res) => {\n  try {\n    const {\n      sku,\n      name,\n      quantity,\n      minimum\n    } = req.body;\n\n    // Validações\n    if (!sku || !name) {\n      return res.status(400).json({\n        error: 'SKU e nome são obrigatórios'\n      });\n    }\n\n    // Verificar se já existe um material com este SKU\n    const existingMaterial = await prisma.material.findUnique({\n      where: { sku }\n    });\n\n    if (existingMaterial) {\n      return res.status(400).json({\n        error: 'Já existe um material com este SKU'\n      });\n    }\n\n    // Criar material\n    const material = await prisma.material.create({\n      data: {\n        sku,\n        name,\n        quantity: quantity || 0,\n        minimum: minimum || 10\n      }\n    });\n\n    res.status(201).json({\n      message: 'Material criado com sucesso',\n      material\n    });\n\n  } catch (error) {\n    console.error('Erro ao criar material:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Atualizar material\nrouter.put('/:id', authenticateToken, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const {\n      name,\n      quantity,\n      minimum\n    } = req.body;\n\n    // Verificar se o material existe\n    const existingMaterial = await prisma.material.findUnique({\n      where: { id }\n    });\n\n    if (!existingMaterial) {\n      return res.status(404).json({\n        error: 'Material não encontrado'\n      });\n    }\n\n    // Preparar dados para atualização\n    const updateData = {};\n    if (name) updateData.name = name;\n    if (quantity !== undefined) updateData.quantity = quantity;\n    if (minimum !== undefined) updateData.minimum = minimum;\n\n    // Atualizar material\n    const material = await prisma.material.update({\n      where: { id },\n      data: updateData\n    });\n\n    res.json({\n      message: 'Material atualizado com sucesso',\n      material\n    });\n\n  } catch (error) {\n    console.error('Erro ao atualizar material:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Deletar material\nrouter.delete('/:id', authenticateToken, async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    // Verificar se o material existe\n    const existingMaterial = await prisma.material.findUnique({\n      where: { id }\n    });\n\n    if (!existingMaterial) {\n      return res.status(404).json({\n        error: 'Material não encontrado'\n      });\n    }\n\n    // Deletar material\n    await prisma.material.delete({\n      where: { id }\n    });\n\n    res.json({\n      message: 'Material deletado com sucesso'\n    });\n\n  } catch (error) {\n    console.error('Erro ao deletar material:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\nmodule.exports = router;\n","size_bytes":4595},"backend/src/middleware/auth.js":{"content":"const jwt = require('jsonwebtoken');\nconst { prisma } = require('../config/database');\n\n// Middleware para verificar token JWT\nconst authenticateToken = async (req, res, next) => {\n  try {\n    const authHeader = req.headers['authorization'];\n    const token = authHeader && authHeader.split(' ')[1]; // Bearer TOKEN\n\n    if (!token) {\n      return res.status(401).json({\n        error: 'Token de acesso requerido'\n      });\n    }\n\n    // Verificar se o token é válido\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\n    \n    // Verificar se a sessão ainda existe no banco\n    const session = await prisma.session.findUnique({\n      where: { token },\n      include: {\n        user: {\n          select: {\n            id: true,\n            email: true,\n            name: true,\n            role: true\n          }\n        }\n      }\n    });\n\n    if (!session) {\n      return res.status(401).json({\n        error: 'Sessão inválida ou expirada'\n      });\n    }\n\n    // Verificar se a sessão não expirou\n    if (new Date() > session.expiresAt) {\n      // Remover sessão expirada\n      await prisma.session.delete({\n        where: { id: session.id }\n      });\n      \n      return res.status(401).json({\n        error: 'Sessão expirada'\n      });\n    }\n\n    // Adicionar dados do usuário à requisição\n    req.user = session.user;\n    req.sessionId = session.id;\n    \n    next();\n  } catch (error) {\n    console.error('Erro na autenticação:', error);\n    \n    if (error.name === 'JsonWebTokenError') {\n      return res.status(401).json({\n        error: 'Token inválido'\n      });\n    }\n    \n    if (error.name === 'TokenExpiredError') {\n      return res.status(401).json({\n        error: 'Token expirado'\n      });\n    }\n    \n    return res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n};\n\n// Middleware para verificar se o usuário é admin\nconst requireAdmin = (req, res, next) => {\n  if (req.user.role !== 'ADMIN') {\n    return res.status(403).json({\n      error: 'Acesso negado. Permissões de administrador requeridas.'\n    });\n  }\n  next();\n};\n\n// Middleware para verificar se o usuário pode acessar dados de um aluno específico\nconst canAccessStudent = async (req, res, next) => {\n  try {\n    const studentId = req.params.id || req.body.studentId;\n    \n    if (!studentId) {\n      return res.status(400).json({\n        error: 'ID do aluno não fornecido'\n      });\n    }\n\n    // Admin pode acessar qualquer aluno\n    if (req.user.role === 'ADMIN') {\n      return next();\n    }\n\n    // Professor só pode acessar seus próprios alunos\n    const student = await prisma.student.findUnique({\n      where: { id: studentId },\n      select: { teacherId: true }\n    });\n\n    if (!student) {\n      return res.status(404).json({\n        error: 'Aluno não encontrado'\n      });\n    }\n\n    if (student.teacherId !== req.user.id) {\n      return res.status(403).json({\n        error: 'Acesso negado. Você só pode acessar seus próprios alunos.'\n      });\n    }\n\n    next();\n  } catch (error) {\n    console.error('Erro na verificação de acesso ao aluno:', error);\n    return res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n};\n\nmodule.exports = {\n  authenticateToken,\n  requireAdmin,\n  canAccessStudent\n};","size_bytes":3275},"src/components/Students/StudentForm.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { studentsApi } from '../../services/studentsApi';\n\nconst StudentForm = ({ student, onSave, onCancel, isOpen }) => {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    grade: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  // Preencher formulário quando student muda\n  useEffect(() => {\n    if (student) {\n      setFormData({\n        name: student.name || '',\n        email: student.email || '',\n        phone: student.phone || '',\n        grade: student.grade || ''\n      });\n    } else {\n      setFormData({\n        name: '',\n        email: '',\n        phone: '',\n        grade: ''\n      });\n    }\n    setErrors({});\n  }, [student]);\n\n  // Validação do formulário\n  const validateForm = () => {\n    const newErrors = {};\n\n    // Validar nome\n    if (!formData.name.trim()) {\n      newErrors.name = 'Nome é obrigatório';\n    } else if (formData.name.trim().length < 2) {\n      newErrors.name = 'Nome deve ter pelo menos 2 caracteres';\n    } else if (formData.name.trim().length > 100) {\n      newErrors.name = 'Nome deve ter no máximo 100 caracteres';\n    }\n\n    // Validar email\n    if (!formData.email.trim()) {\n      newErrors.email = 'Email é obrigatório';\n    } else {\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!emailRegex.test(formData.email)) {\n        newErrors.email = 'Email deve ter um formato válido';\n      } else if (formData.email.length > 255) {\n        newErrors.email = 'Email deve ter no máximo 255 caracteres';\n      }\n    }\n\n    // Validar telefone\n    if (!formData.phone.trim()) {\n      newErrors.phone = 'Telefone é obrigatório';\n    } else {\n      // Remove caracteres não numéricos para validação\n      const phoneNumbers = formData.phone.replace(/\\D/g, '');\n      if (phoneNumbers.length < 10 || phoneNumbers.length > 11) {\n        newErrors.phone = 'Telefone deve ter 10 ou 11 dígitos';\n      }\n    }\n\n    // Validar série\n    if (!formData.grade.trim()) {\n      newErrors.grade = 'Série é obrigatória';\n    } else if (formData.grade.trim().length > 50) {\n      newErrors.grade = 'Série deve ter no máximo 50 caracteres';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Formatar telefone enquanto digita\n  const formatPhone = (value) => {\n    // Remove tudo que não é dígito\n    const numbers = value.replace(/\\D/g, '');\n    \n    // Aplica máscara baseada no tamanho\n    if (numbers.length <= 10) {\n      // Formato: (11) 1234-5678\n      return numbers.replace(/(\\d{2})(\\d{4})(\\d{4})/, '($1) $2-$3');\n    } else {\n      // Formato: (11) 91234-5678\n      return numbers.replace(/(\\d{2})(\\d{5})(\\d{4})/, '($1) $2-$3');\n    }\n  };\n\n  // Manipular mudanças nos campos\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    \n    let formattedValue = value;\n    \n    // Aplicar formatação específica para telefone\n    if (name === 'phone') {\n      formattedValue = formatPhone(value);\n    }\n    \n    setFormData(prev => ({\n      ...prev,\n      [name]: formattedValue\n    }));\n\n    // Limpar erro do campo quando usuário começar a digitar\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  // Submeter formulário\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setErrors({});\n      \n      // Preparar dados para envio (remover formatação do telefone)\n      const dataToSend = {\n        ...formData,\n        phone: formData.phone.replace(/\\D/g, '') // Remove formatação\n      };\n      \n      await onSave(dataToSend);\n    } catch (err) {\n      console.error('Erro ao salvar aluno:', err);\n      \n      // Tratar erros específicos da API\n      if (err.response?.data?.errors) {\n        // Erros de validação do backend\n        const backendErrors = {};\n        err.response.data.errors.forEach(error => {\n          backendErrors[error.field] = error.message;\n        });\n        setErrors(backendErrors);\n      } else if (err.response?.data?.message) {\n        // Erro geral do backend\n        setErrors({ general: err.response.data.message });\n      } else {\n        // Erro genérico\n        setErrors({ general: 'Erro interno. Tente novamente.' });\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n      <div className=\"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white\">\n        <div className=\"mt-3\">\n          {/* Cabeçalho */}\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-medium text-gray-900\">\n              {student ? 'Editar Aluno' : 'Novo Aluno'}\n            </h3>\n            <button\n              onClick={onCancel}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          {/* Erro geral */}\n          {errors.general && (\n            <div className=\"mb-4 bg-red-50 border border-red-200 rounded-md p-3\">\n              <div className=\"text-sm text-red-600\">{errors.general}</div>\n            </div>\n          )}\n\n          {/* Formulário */}\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Nome */}\n            <div>\n              <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Nome *\n              </label>\n              <input\n                type=\"text\"\n                id=\"name\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleChange}\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.name ? 'border-red-300' : 'border-gray-300'\n                }`}\n                placeholder=\"Digite o nome completo\"\n              />\n              {errors.name && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.name}</p>\n              )}\n            </div>\n\n            {/* Email */}\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Email *\n              </label>\n              <input\n                type=\"email\"\n                id=\"email\"\n                name=\"email\"\n                value={formData.email}\n                onChange={handleChange}\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.email ? 'border-red-300' : 'border-gray-300'\n                }`}\n                placeholder=\"Digite o email\"\n              />\n              {errors.email && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.email}</p>\n              )}\n            </div>\n\n            {/* Telefone */}\n            <div>\n              <label htmlFor=\"phone\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Telefone\n              </label>\n              <input\n                type=\"tel\"\n                id=\"phone\"\n                name=\"phone\"\n                value={formData.phone}\n                onChange={handleChange}\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.phone ? 'border-red-300' : 'border-gray-300'\n                }`}\n                placeholder=\"(11) 99999-9999\"\n              />\n              {errors.phone && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.phone}</p>\n              )}\n            </div>\n\n            {/* Série */}\n            <div>\n              <label htmlFor=\"grade\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Série/Ano\n              </label>\n              <select\n                id=\"grade\"\n                name=\"grade\"\n                value={formData.grade}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">Selecione a série</option>\n                <option value=\"1º Fundamental\">1º Ano - Fundamental</option>\n                <option value=\"2º Fundamental\">2º Ano - Fundamental</option>\n                <option value=\"3º Fundamental\">3º Ano - Fundamental</option>\n                <option value=\"4º Fundamental\">4º Ano - Fundamental</option>\n                <option value=\"5º Fundamental\">5º Ano - Fundamental</option>\n                <option value=\"6º Fundamental\">6º Ano - Fundamental</option>\n                <option value=\"7º Fundamental\">7º Ano - Fundamental</option>\n                <option value=\"8º Fundamental\">8º Ano - Fundamental</option>\n                <option value=\"9º Fundamental\">9º Ano - Fundamental</option>\n                <option value=\"1º Médio\">1º Ano - Médio</option>\n                <option value=\"2º Médio\">2º Ano - Médio</option>\n                <option value=\"3º Médio\">3º Ano - Médio</option>\n                <option value=\"Pré-vestibular\">Pré-vestibular</option>\n                <option value=\"Superior\">Superior</option>\n              </select>\n            </div>\n\n            {/* Botões */}\n            <div className=\"flex justify-end space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onCancel}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                disabled={loading}\n              >\n                Cancelar\n              </button>\n              <button\n                type=\"submit\"\n                className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                disabled={loading}\n              >\n                {loading ? (\n                  <div className=\"flex items-center\">\n                    <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    Salvando...\n                  </div>\n                ) : (\n                  student ? 'Atualizar' : 'Criar'\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default StudentForm;","size_bytes":11406},"backend/src/routes/tutorings.js":{"content":"const express = require('express');\nconst { prisma } = require('../config/database');\nconst { authenticateToken } = require('../middleware/auth');\n\nconst router = express.Router();\n\n// Listar reforços\nrouter.get('/', authenticateToken, async (req, res) => {\n  try {\n    const { page = 1, limit = 10, studentId, status, startDate, endDate } = req.query;\n    const skip = (page - 1) * limit;\n\n    // Construir filtros\n    const where = {};\n    \n    // Se não for admin, filtrar apenas reforços dos alunos do professor\n    if (req.user.role !== 'ADMIN') {\n      where.student = {\n        teacherId: req.user.id\n      };\n    }\n\n    // Filtro por aluno\n    if (studentId) {\n      where.studentId = studentId;\n    }\n\n    // Filtro por status\n    if (status) {\n      where.status = status;\n    }\n\n    // Filtro por período\n    if (startDate || endDate) {\n      where.nextClass = {};\n      if (startDate) {\n        where.nextClass.gte = new Date(startDate);\n      }\n      if (endDate) {\n        where.nextClass.lte = new Date(endDate);\n      }\n    }\n\n    // Buscar reforços\n    const [tutorings, total] = await Promise.all([\n      prisma.tutoring.findMany({\n        where,\n        skip: parseInt(skip),\n        take: parseInt(limit),\n        include: {\n          student: {\n            select: {\n              id: true,\n              name: true,\n              email: true,\n              grade: true\n            }\n          }\n        },\n        orderBy: { createdAt: 'desc' }\n      }),\n      prisma.tutoring.count({ where })\n    ]);\n\n    res.json({\n      tutorings,\n      pagination: {\n        page: parseInt(page),\n        limit: parseInt(limit),\n        total,\n        pages: Math.ceil(total / limit)\n      }\n    });\n\n  } catch (error) {\n    console.error('Erro ao listar reforços:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Buscar reforço por ID\nrouter.get('/:id', authenticateToken, async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    const tutoring = await prisma.tutoring.findUnique({\n      where: { id },\n      include: {\n        student: {\n          select: {\n            id: true,\n            name: true,\n            email: true,\n            grade: true,\n            teacher: {\n              select: {\n                id: true,\n                name: true\n              }\n            }\n          }\n        }\n      }\n    });\n\n    if (!tutoring) {\n      return res.status(404).json({\n        error: 'Reforço não encontrado'\n      });\n    }\n\n    // Verificar se o usuário pode acessar este reforço\n    if (req.user.role !== 'ADMIN' && tutoring.student.teacher.id !== req.user.id) {\n      return res.status(403).json({\n        error: 'Acesso negado'\n      });\n    }\n\n    res.json(tutoring);\n\n  } catch (error) {\n    console.error('Erro ao buscar reforço:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Criar novo reforço\nrouter.post('/', authenticateToken, async (req, res) => {\n  try {\n    const {\n      studentId,\n      subject,\n      topic,\n      plan,\n      nextClass,\n      status\n    } = req.body;\n\n    // Validações\n    if (!studentId || !subject || !topic || !plan) {\n      return res.status(400).json({\n        error: 'Aluno, disciplina, assunto e plano são obrigatórios'\n      });\n    }\n\n    // Verificar se o aluno existe e se o professor pode acessá-lo\n    const student = await prisma.student.findUnique({\n      where: { id: studentId },\n      select: { \n        id: true, \n        teacherId: true,\n        name: true\n      }\n    });\n\n    if (!student) {\n      return res.status(404).json({\n        error: 'Aluno não encontrado'\n      });\n    }\n\n    // Se não for admin, verificar se é o professor do aluno\n    if (req.user.role !== 'ADMIN' && student.teacherId !== req.user.id) {\n      return res.status(403).json({\n        error: 'Você só pode criar reforços para seus próprios alunos'\n      });\n    }\n\n    // Criar reforço\n    const tutoring = await prisma.tutoring.create({\n      data: {\n        studentId,\n        subject,\n        topic,\n        plan,\n        nextClass: nextClass ? new Date(nextClass) : null,\n        status: status || 'SCHEDULED'\n      },\n      include: {\n        student: {\n          select: {\n            id: true,\n            name: true,\n            email: true,\n            grade: true\n          }\n        }\n      }\n    });\n\n    res.status(201).json({\n      message: 'Reforço criado com sucesso',\n      tutoring\n    });\n\n  } catch (error) {\n    console.error('Erro ao criar reforço:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Atualizar reforço\nrouter.put('/:id', authenticateToken, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const {\n      subject,\n      topic,\n      plan,\n      nextClass,\n      status\n    } = req.body;\n\n    // Verificar se o reforço existe e se o usuário pode acessá-lo\n    const existingTutoring = await prisma.tutoring.findUnique({\n      where: { id },\n      include: {\n        student: {\n          select: {\n            teacherId: true\n          }\n        }\n      }\n    });\n\n    if (!existingTutoring) {\n      return res.status(404).json({\n        error: 'Reforço não encontrado'\n      });\n    }\n\n    // Verificar permissões\n    if (req.user.role !== 'ADMIN' && existingTutoring.student.teacherId !== req.user.id) {\n      return res.status(403).json({\n        error: 'Acesso negado'\n      });\n    }\n\n    // Preparar dados para atualização\n    const updateData = {};\n    if (subject) updateData.subject = subject;\n    if (topic) updateData.topic = topic;\n    if (plan) updateData.plan = plan;\n    if (nextClass !== undefined) updateData.nextClass = nextClass ? new Date(nextClass) : null;\n    if (status) updateData.status = status;\n\n    // Atualizar reforço\n    const tutoring = await prisma.tutoring.update({\n      where: { id },\n      data: updateData,\n      include: {\n        student: {\n          select: {\n            id: true,\n            name: true,\n            email: true,\n            grade: true\n          }\n        }\n      }\n    });\n\n    res.json({\n      message: 'Reforço atualizado com sucesso',\n      tutoring\n    });\n\n  } catch (error) {\n    console.error('Erro ao atualizar reforço:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Deletar reforço\nrouter.delete('/:id', authenticateToken, async (req, res) => {\n  try {\n    const { id } = req.params;\n\n    // Verificar se o reforço existe e se o usuário pode acessá-lo\n    const existingTutoring = await prisma.tutoring.findUnique({\n      where: { id },\n      include: {\n        student: {\n          select: {\n            teacherId: true\n          }\n        }\n      }\n    });\n\n    if (!existingTutoring) {\n      return res.status(404).json({\n        error: 'Reforço não encontrado'\n      });\n    }\n\n    // Verificar permissões\n    if (req.user.role !== 'ADMIN' && existingTutoring.student.teacherId !== req.user.id) {\n      return res.status(403).json({\n        error: 'Acesso negado'\n      });\n    }\n\n    // Deletar reforço\n    await prisma.tutoring.delete({\n      where: { id }\n    });\n\n    res.json({\n      message: 'Reforço deletado com sucesso'\n    });\n\n  } catch (error) {\n    console.error('Erro ao deletar reforço:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Marcar reforço como concluído\nrouter.patch('/:id/complete', authenticateToken, async (req, res) => {\n  try {\n    const { id } = req.params;\n    const { notes } = req.body;\n\n    // Verificar se o reforço existe e se o usuário pode acessá-lo\n    const existingTutoring = await prisma.tutoring.findUnique({\n      where: { id },\n      include: {\n        student: {\n          select: {\n            teacherId: true\n          }\n        }\n      }\n    });\n\n    if (!existingTutoring) {\n      return res.status(404).json({\n        error: 'Reforço não encontrado'\n      });\n    }\n\n    // Verificar permissões\n    if (req.user.role !== 'ADMIN' && existingTutoring.student.teacherId !== req.user.id) {\n      return res.status(403).json({\n        error: 'Acesso negado'\n      });\n    }\n\n    // Marcar como concluído\n    const tutoring = await prisma.tutoring.update({\n      where: { id },\n      data: {\n        status: 'COMPLETED'\n      },\n      include: {\n        student: {\n          select: {\n            id: true,\n            name: true,\n            email: true,\n            grade: true\n          }\n        }\n      }\n    });\n\n    res.json({\n      message: 'Reforço marcado como concluído',\n      tutoring\n    });\n\n  } catch (error) {\n    console.error('Erro ao marcar reforço como concluído:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\nmodule.exports = router;\n","size_bytes":8849},"src/components/ui/button.jsx":{"content":"import React from 'react'\n\nexport function Button({ className = '', variant = 'default', size = 'md', children, ...props }) {\n  const base = 'inline-flex items-center justify-center gap-1 font-medium transition rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-300 disabled:opacity-50 disabled:pointer-events-none'\n  const variants = {\n    default: 'bg-sky-500 hover:bg-sky-600 text-white',\n    outline: 'border bg-white hover:bg-slate-50',\n    ghost: 'hover:bg-slate-100',\n    link: 'underline-offset-4 hover:underline',\n    secondary: 'bg-slate-100 hover:bg-slate-200'\n  }\n  const sizes = {\n    sm: 'h-8 px-3 text-sm',\n    md: 'h-10 px-4 text-sm',\n    lg: 'h-11 px-5 text-base',\n    icon: 'h-10 w-10 p-0'\n  }\n  const cls = [base, variants[variant] || variants.default, sizes[size] || sizes.md, className].join(' ')\n  return <button className={cls} {...props}>{children}</button>\n}\n","size_bytes":891},"src/components/Login.jsx":{"content":"import React, { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { \n  Eye, \n  EyeOff, \n  Lock, \n  Mail, \n  GraduationCap,\n  ArrowLeft,\n  AlertCircle,\n  CheckCircle\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { authService } from '../services/api';\n\nconst Login = ({ onLogin, onBack }) => {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  const handleFillExample = () => {\n    setFormData({\n      email: \"admin@reforcoescolar.com\",\n      password: \"admin123\",\n    });\n    if (error) setError(\"\");\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Limpar erro quando usuário começar a digitar\n    if (error) setError(\"\");\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(\"\");\n    setSuccess(\"\");\n\n    // Validação básica\n    if (!formData.email || !formData.password) {\n      setError(\"Por favor, preencha todos os campos\");\n      setIsLoading(false);\n      return;\n    }\n\n    if (!formData.email.includes(\"@\")) {\n      setError(\"Por favor, insira um email válido\");\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      const result = await authService.login(formData.email, formData.password);\n      \n      if (result.success) {\n        setSuccess(\"Login realizado com sucesso!\");\n        setTimeout(() => {\n          onLogin(result.data.user);\n        }, 1000);\n      } else {\n        setError(result.error);\n      }\n    } catch (err) {\n      console.error('Erro no login:', err);\n      setError(\"Erro ao fazer login. Tente novamente.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const fadeInUp = {\n    initial: { opacity: 0, y: 60 },\n    animate: { opacity: 1, y: 0 },\n    transition: { duration: 0.6 }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-6\">\n      <div className=\"w-full max-w-md\">\n        {/* Header com botão voltar */}\n        <motion.div \n          className=\"flex items-center mb-8\"\n          initial={{ opacity: 0, x: -20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ duration: 0.5 }}\n        >\n          <Button\n            variant=\"ghost\"\n            onClick={onBack}\n            className=\"mr-4 p-2 hover:bg-blue-50 rounded-full\"\n          >\n            <ArrowLeft className=\"w-5 h-5 text-gray-600\" />\n          </Button>\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center\">\n              <GraduationCap className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold text-gray-800\">EduReforço</h1>\n              <p className=\"text-xs text-gray-600\">Área do Professor</p>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Card de Login */}\n        <motion.div\n          variants={fadeInUp}\n          initial=\"initial\"\n          animate=\"animate\"\n        >\n          <Card className=\"border-0 shadow-2xl bg-white/80 backdrop-blur-sm\">\n            <CardHeader className=\"text-center pb-6\">\n              <CardTitle className=\"text-2xl font-bold text-gray-800 mb-2\">\n                Bem-vindo de volta!\n              </CardTitle>\n              <p className=\"text-gray-600\">\n                Faça login para acessar o sistema de gestão\n              </p>\n            </CardHeader>\n\n            <CardContent className=\"px-8 pb-8\">\n              {/* Credenciais de exemplo + botão para preencher */}\n              <div className=\"mb-4 p-3 rounded-lg bg-blue-50 border border-blue-100 text-sm text-blue-800 flex items-center justify-between\">\n                <div>\n                  <span className=\"font-medium\">Exemplo:</span> admin@reforcoescolar.com / admin123\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={handleFillExample}\n                  className=\"ml-3 h-8 px-3\"\n                >\n                  Login de exemplo\n                </Button>\n              </div>\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                {/* Campo Email */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\" className=\"text-sm font-medium text-gray-700\">\n                    Email\n                  </Label>\n                  <div className=\"relative\">\n                    <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                    <Input\n                      id=\"email\"\n                      name=\"email\"\n                      type=\"email\"\n                      value={formData.email}\n                      onChange={handleInputChange}\n                      placeholder=\"seu@email.com\"\n                      className=\"pl-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg\"\n                      disabled={isLoading}\n                    />\n                  </div>\n                </div>\n\n                {/* Campo Senha */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"password\" className=\"text-sm font-medium text-gray-700\">\n                    Senha\n                  </Label>\n                  <div className=\"relative\">\n                    <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n                    <Input\n                      id=\"password\"\n                      name=\"password\"\n                      type={showPassword ? \"text\" : \"password\"}\n                      value={formData.password}\n                      onChange={handleInputChange}\n                      placeholder=\"Digite sua senha\"\n                      className=\"pl-10 pr-10 h-12 border-gray-200 focus:border-blue-500 focus:ring-blue-500 rounded-lg\"\n                      disabled={isLoading}\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\"\n                      disabled={isLoading}\n                    >\n                      {showPassword ? (\n                        <EyeOff className=\"w-5 h-5\" />\n                      ) : (\n                        <Eye className=\"w-5 h-5\" />\n                      )}\n                    </button>\n                  </div>\n                </div>\n\n                {/* Mensagens de erro/sucesso */}\n                {error && (\n                  <motion.div\n                    initial={{ opacity: 0, y: -10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg border border-red-200\"\n                  >\n                    <AlertCircle className=\"w-5 h-5 flex-shrink-0\" />\n                    <span className=\"text-sm\">{error}</span>\n                  </motion.div>\n                )}\n\n                {success && (\n                  <motion.div\n                    initial={{ opacity: 0, y: -10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"flex items-center space-x-2 text-green-600 bg-green-50 p-3 rounded-lg border border-green-200\"\n                  >\n                    <CheckCircle className=\"w-5 h-5 flex-shrink-0\" />\n                    <span className=\"text-sm\">{success}</span>\n                  </motion.div>\n                )}\n\n                {/* Botão de Login */}\n                <Button\n                  type=\"submit\"\n                  disabled={isLoading}\n                  className=\"w-full h-12 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 disabled:transform-none disabled:opacity-70\"\n                >\n                  {isLoading ? (\n                    <div className=\"flex items-center space-x-2\">\n                      <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                      <span>Entrando...</span>\n                    </div>\n                  ) : (\n                    \"Entrar\"\n                  )}\n                </Button>\n\n                {/* Links adicionais */}\n                <div className=\"text-center space-y-2\">\n                  <button\n                    type=\"button\"\n                    className=\"text-sm text-blue-600 hover:text-blue-700 transition-colors\"\n                    disabled={isLoading}\n                  >\n                    Esqueceu sua senha?\n                  </button>\n                </div>\n              </form>\n            </CardContent>\n          </Card>\n        </motion.div>\n\n        {/* Informações de demonstração */}\n        <motion.div\n          className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.3 }}\n        >\n          <h4 className=\"text-sm font-semibold text-blue-800 mb-2\">\n            💡 Demonstração\n          </h4>\n          <p className=\"text-xs text-blue-700\">\n            Use qualquer email e senha para acessar o sistema de demonstração.\n          </p>\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","size_bytes":10118},"src/components/Students/DeleteConfirmModal.jsx":{"content":"import React from 'react';\n\nconst DeleteConfirmModal = ({ isOpen, student, onConfirm, onCancel, loading }) => {\n  if (!isOpen || !student) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n      <div className=\"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white\">\n        <div className=\"mt-3\">\n          {/* Ícone de aviso */}\n          <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4\">\n            <svg\n              className=\"h-6 w-6 text-red-600\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\n              />\n            </svg>\n          </div>\n\n          {/* Título */}\n          <h3 className=\"text-lg font-medium text-gray-900 text-center mb-2\">\n            Confirmar Exclusão\n          </h3>\n\n          {/* Mensagem */}\n          <div className=\"text-center mb-6\">\n            <p className=\"text-sm text-gray-500 mb-2\">\n              Tem certeza que deseja excluir o aluno:\n            </p>\n            <p className=\"text-base font-medium text-gray-900\">\n              {student.name}\n            </p>\n            <p className=\"text-sm text-gray-500 mt-2\">\n              Esta ação não pode ser desfeita.\n            </p>\n          </div>\n\n          {/* Botões */}\n          <div className=\"flex justify-center space-x-3\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              disabled={loading}\n            >\n              Cancelar\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => onConfirm(student.id)}\n              className=\"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n              disabled={loading}\n            >\n              {loading ? (\n                <div className=\"flex items-center\">\n                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Excluindo...\n                </div>\n              ) : (\n                'Excluir'\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DeleteConfirmModal;","size_bytes":3280},"src/services/api.js":{"content":"import axios from 'axios';\n\n// Configuração base da API\nconst API_BASE_URL = window.location.hostname === 'localhost' \n  ? 'http://localhost:3001/api'\n  : `https://${window.location.hostname}:3001/api`;\n\n// Criar instância do axios\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Interceptor para adicionar token de autenticação\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Interceptor para tratar respostas e erros\napi.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    // Se o token expirou ou é inválido, limpar dados locais\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      // Redirecionar para login se não estiver na página de login\n      if (window.location.pathname !== '/login' && window.location.pathname !== '/') {\n        window.location.href = '/login';\n      }\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Serviços de autenticação\nexport const authService = {\n  // Login\n  login: async (email, password) => {\n    try {\n      const response = await api.post('/auth/login', { email, password });\n      const { token, user, expiresAt } = response.data;\n      \n      // Salvar dados no localStorage\n      localStorage.setItem('token', token);\n      localStorage.setItem('user', JSON.stringify(user));\n      localStorage.setItem('tokenExpiresAt', expiresAt);\n      \n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao fazer login'\n      };\n    }\n  },\n\n  // Logout\n  logout: async () => {\n    try {\n      await api.post('/auth/logout');\n    } catch (error) {\n      console.error('Erro ao fazer logout:', error);\n    } finally {\n      // Limpar dados locais independentemente do resultado\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      localStorage.removeItem('tokenExpiresAt');\n    }\n  },\n\n  // Verificar se o usuário está autenticado\n  me: async () => {\n    try {\n      const response = await api.get('/auth/me');\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao verificar autenticação'\n      };\n    }\n  },\n\n  // Registrar novo usuário (apenas admin)\n  register: async (userData) => {\n    try {\n      const response = await api.post('/auth/register', userData);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao registrar usuário'\n      };\n    }\n  },\n\n  // Alterar senha\n  changePassword: async (currentPassword, newPassword) => {\n    try {\n      const response = await api.put('/auth/change-password', {\n        currentPassword,\n        newPassword\n      });\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao alterar senha'\n      };\n    }\n  }\n};\n\n// Serviços de alunos\nexport const studentsService = {\n  // Listar alunos\n  list: async (params = {}) => {\n    try {\n      const response = await api.get('/students', { params });\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao listar alunos'\n      };\n    }\n  },\n\n  // Buscar aluno por ID\n  getById: async (id) => {\n    try {\n      const response = await api.get(`/students/${id}`);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao buscar aluno'\n      };\n    }\n  },\n\n  // Criar aluno\n  create: async (studentData) => {\n    try {\n      const response = await api.post('/students', studentData);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao criar aluno'\n      };\n    }\n  },\n\n  // Atualizar aluno\n  update: async (id, studentData) => {\n    try {\n      const response = await api.put(`/students/${id}`, studentData);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao atualizar aluno'\n      };\n    }\n  },\n\n  // Deletar aluno\n  delete: async (id) => {\n    try {\n      const response = await api.delete(`/students/${id}`);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao deletar aluno'\n      };\n    }\n  }\n};\n\n// Serviços de reforços\nexport const tutoringsService = {\n  // Listar reforços\n  list: async (params = {}) => {\n    try {\n      const response = await api.get('/tutorings', { params });\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao listar reforços'\n      };\n    }\n  },\n\n  // Buscar reforço por ID\n  getById: async (id) => {\n    try {\n      const response = await api.get(`/tutorings/${id}`);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao buscar reforço'\n      };\n    }\n  },\n\n  // Criar reforço\n  create: async (tutoringData) => {\n    try {\n      const response = await api.post('/tutorings', tutoringData);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao criar reforço'\n      };\n    }\n  },\n\n  // Atualizar reforço\n  update: async (id, tutoringData) => {\n    try {\n      const response = await api.put(`/tutorings/${id}`, tutoringData);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao atualizar reforço'\n      };\n    }\n  },\n\n  // Deletar reforço\n  delete: async (id) => {\n    try {\n      const response = await api.delete(`/tutorings/${id}`);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao deletar reforço'\n      };\n    }\n  },\n\n  // Marcar como concluído\n  complete: async (id, notes) => {\n    try {\n      const response = await api.patch(`/tutorings/${id}/complete`, { notes });\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao concluir reforço'\n      };\n    }\n  }\n};\n\n// Serviços de materiais\nexport const materialsService = {\n  // Listar materiais\n  list: async (params = {}) => {\n    try {\n      const response = await api.get('/materials', { params });\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao listar materiais'\n      };\n    }\n  },\n\n  // Buscar material por ID\n  getById: async (id) => {\n    try {\n      const response = await api.get(`/materials/${id}`);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao buscar material'\n      };\n    }\n  },\n\n  // Criar material\n  create: async (materialData) => {\n    try {\n      const response = await api.post('/materials', materialData);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao criar material'\n      };\n    }\n  },\n\n  // Atualizar material\n  update: async (id, materialData) => {\n    try {\n      const response = await api.put(`/materials/${id}`, materialData);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao atualizar material'\n      };\n    }\n  },\n\n  // Deletar material\n  delete: async (id) => {\n    try {\n      const response = await api.delete(`/materials/${id}`);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao deletar material'\n      };\n    }\n  }\n};\n\n// Serviços de pagamentos\nexport const paymentsService = {\n  // Listar pagamentos\n  list: async (params = {}) => {\n    try {\n      const response = await api.get('/payments', { params });\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao listar pagamentos'\n      };\n    }\n  },\n\n  // Buscar pagamento por ID\n  getById: async (id) => {\n    try {\n      const response = await api.get(`/payments/${id}`);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao buscar pagamento'\n      };\n    }\n  },\n\n  // Criar pagamento\n  create: async (paymentData) => {\n    try {\n      const response = await api.post('/payments', paymentData);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao criar pagamento'\n      };\n    }\n  },\n\n  // Atualizar pagamento\n  update: async (id, paymentData) => {\n    try {\n      const response = await api.put(`/payments/${id}`, paymentData);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao atualizar pagamento'\n      };\n    }\n  },\n\n  // Deletar pagamento\n  delete: async (id) => {\n    try {\n      const response = await api.delete(`/payments/${id}`);\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao deletar pagamento'\n      };\n    }\n  },\n\n  // Marcar como pago\n  markAsPaid: async (id, paymentMethod, notes) => {\n    try {\n      const response = await api.patch(`/payments/${id}/pay`, {\n        paymentMethod,\n        notes\n      });\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao marcar pagamento como pago'\n      };\n    }\n  },\n\n  // Relatório por período\n  getReport: async (startDate, endDate, studentId) => {\n    try {\n      const params = { startDate, endDate };\n      if (studentId) params.studentId = studentId;\n      \n      const response = await api.get('/payments/reports/period', { params });\n      return { success: true, data: response.data };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.response?.data?.error || 'Erro ao gerar relatório'\n      };\n    }\n  }\n};\n\n// Utilitários\nexport const utils = {\n  // Verificar se o token está válido\n  isTokenValid: () => {\n    const token = localStorage.getItem('token');\n    const expiresAt = localStorage.getItem('tokenExpiresAt');\n    \n    if (!token || !expiresAt) {\n      return false;\n    }\n    \n    return new Date() < new Date(expiresAt);\n  },\n\n  // Obter dados do usuário do localStorage\n  getCurrentUser: () => {\n    const userStr = localStorage.getItem('user');\n    return userStr ? JSON.parse(userStr) : null;\n  },\n\n  // Limpar dados de autenticação\n  clearAuth: () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('tokenExpiresAt');\n  }\n};\n\nexport default api;","size_bytes":12329},"backend/src/config/database.js":{"content":"const { PrismaClient } = require('@prisma/client');\n\nconst prisma = new PrismaClient({\n  log: process.env.NODE_ENV === 'development' ? ['query', 'info', 'warn', 'error'] : ['error'],\n});\n\n// Função para conectar ao banco\nasync function connectDatabase() {\n  try {\n    await prisma.$connect();\n    console.log('✅ Conectado ao banco de dados PostgreSQL');\n  } catch (error) {\n    console.error('❌ Erro ao conectar ao banco de dados:', error);\n    process.exit(1);\n  }\n}\n\n// Função para desconectar do banco\nasync function disconnectDatabase() {\n  try {\n    await prisma.$disconnect();\n    console.log('🔌 Desconectado do banco de dados');\n  } catch (error) {\n    console.error('❌ Erro ao desconectar do banco de dados:', error);\n  }\n}\n\n// Graceful shutdown\nprocess.on('SIGINT', async () => {\n  console.log('\\n🛑 Recebido SIGINT. Fechando servidor...');\n  await disconnectDatabase();\n  process.exit(0);\n});\n\nprocess.on('SIGTERM', async () => {\n  console.log('\\n🛑 Recebido SIGTERM. Fechando servidor...');\n  await disconnectDatabase();\n  process.exit(0);\n});\n\nmodule.exports = {\n  prisma,\n  connectDatabase,\n  disconnectDatabase\n};","size_bytes":1144},"backend/src/routes/auth.js":{"content":"const express = require('express');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst { prisma } = require('../config/database');\nconst { authenticateToken } = require('../middleware/auth');\n\nconst router = express.Router();\n\n// Registrar novo usuário (apenas admin pode criar novos usuários)\nrouter.post('/register', authenticateToken, async (req, res) => {\n  try {\n    // Verificar se o usuário é admin\n    if (req.user.role !== 'ADMIN') {\n      return res.status(403).json({\n        error: 'Apenas administradores podem criar novos usuários'\n      });\n    }\n\n    const { email, password, name, role = 'TEACHER' } = req.body;\n\n    // Validações\n    if (!email || !password) {\n      return res.status(400).json({\n        error: 'Email e senha são obrigatórios'\n      });\n    }\n\n    if (password.length < 6) {\n      return res.status(400).json({\n        error: 'A senha deve ter pelo menos 6 caracteres'\n      });\n    }\n\n    // Verificar se o email já existe\n    const existingUser = await prisma.user.findUnique({\n      where: { email }\n    });\n\n    if (existingUser) {\n      return res.status(400).json({\n        error: 'Este email já está em uso'\n      });\n    }\n\n    // Hash da senha\n    const hashedPassword = await bcrypt.hash(password, 12);\n\n    // Criar usuário\n    const user = await prisma.user.create({\n      data: {\n        email,\n        password: hashedPassword,\n        name,\n        role\n      },\n      select: {\n        id: true,\n        email: true,\n        name: true,\n        role: true,\n        createdAt: true\n      }\n    });\n\n    res.status(201).json({\n      message: 'Usuário criado com sucesso',\n      user\n    });\n\n  } catch (error) {\n    console.error('Erro no registro:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Login\nrouter.post('/login', async (req, res) => {\n  try {\n    const { email, password } = req.body;\n\n    // Validações\n    if (!email || !password) {\n      return res.status(400).json({\n        error: 'Email e senha são obrigatórios'\n      });\n    }\n\n    // Buscar usuário\n    const user = await prisma.user.findUnique({\n      where: { email }\n    });\n\n    if (!user) {\n      return res.status(401).json({\n        error: 'Credenciais inválidas'\n      });\n    }\n\n    // Verificar senha\n    const isPasswordValid = await bcrypt.compare(password, user.password);\n\n    if (!isPasswordValid) {\n      return res.status(401).json({\n        error: 'Credenciais inválidas'\n      });\n    }\n\n    // Gerar token JWT\n    const token = jwt.sign(\n      { \n        userId: user.id,\n        email: user.email,\n        role: user.role\n      },\n      process.env.JWT_SECRET,\n      { expiresIn: process.env.JWT_EXPIRES_IN || '7d' }\n    );\n\n    // Calcular data de expiração\n    const expiresAt = new Date();\n    expiresAt.setDate(expiresAt.getDate() + 7); // 7 dias\n\n    // Criar sessão no banco\n    const session = await prisma.session.create({\n      data: {\n        userId: user.id,\n        token,\n        expiresAt\n      }\n    });\n\n    // Remover senha da resposta\n    const { password: _, ...userWithoutPassword } = user;\n\n    res.json({\n      message: 'Login realizado com sucesso',\n      user: userWithoutPassword,\n      token,\n      expiresAt\n    });\n\n  } catch (error) {\n    console.error('Erro no login:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Logout\nrouter.post('/logout', authenticateToken, async (req, res) => {\n  try {\n    // Remover sessão do banco\n    await prisma.session.delete({\n      where: { id: req.sessionId }\n    });\n\n    res.json({\n      message: 'Logout realizado com sucesso'\n    });\n\n  } catch (error) {\n    console.error('Erro no logout:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Verificar token (para validar se o usuário ainda está logado)\nrouter.get('/me', authenticateToken, async (req, res) => {\n  try {\n    res.json({\n      user: req.user\n    });\n  } catch (error) {\n    console.error('Erro ao buscar dados do usuário:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\n// Alterar senha\nrouter.put('/change-password', authenticateToken, async (req, res) => {\n  try {\n    const { currentPassword, newPassword } = req.body;\n\n    // Validações\n    if (!currentPassword || !newPassword) {\n      return res.status(400).json({\n        error: 'Senha atual e nova senha são obrigatórias'\n      });\n    }\n\n    if (newPassword.length < 6) {\n      return res.status(400).json({\n        error: 'A nova senha deve ter pelo menos 6 caracteres'\n      });\n    }\n\n    // Buscar usuário com senha\n    const user = await prisma.user.findUnique({\n      where: { id: req.user.id }\n    });\n\n    // Verificar senha atual\n    const isCurrentPasswordValid = await bcrypt.compare(currentPassword, user.password);\n\n    if (!isCurrentPasswordValid) {\n      return res.status(400).json({\n        error: 'Senha atual incorreta'\n      });\n    }\n\n    // Hash da nova senha\n    const hashedNewPassword = await bcrypt.hash(newPassword, 12);\n\n    // Atualizar senha\n    await prisma.user.update({\n      where: { id: req.user.id },\n      data: { password: hashedNewPassword }\n    });\n\n    res.json({\n      message: 'Senha alterada com sucesso'\n    });\n\n  } catch (error) {\n    console.error('Erro ao alterar senha:', error);\n    res.status(500).json({\n      error: 'Erro interno do servidor'\n    });\n  }\n});\n\nmodule.exports = router;","size_bytes":5523},"backend/src/utils/seed.js":{"content":"const bcrypt = require('bcryptjs');\nconst { prisma } = require('../config/database');\n\nasync function seed() {\n  try {\n    console.log('🌱 Iniciando seed do banco de dados...');\n\n    // Limpar dados existentes (cuidado em produção!)\n    await prisma.session.deleteMany();\n    await prisma.payment.deleteMany();\n    await prisma.tutoring.deleteMany();\n    await prisma.material.deleteMany();\n    await prisma.student.deleteMany();\n    await prisma.user.deleteMany();\n\n    console.log('🗑️  Dados existentes removidos');\n\n    // Criar usuário administrador\n    const adminPassword = await bcrypt.hash('admin123', 12);\n    const admin = await prisma.user.create({\n      data: {\n        email: 'admin@reforcoescolar.com',\n        password: adminPassword,\n        name: 'Administrador',\n        role: 'ADMIN'\n      }\n    });\n\n    console.log('👤 Usuário administrador criado');\n\n    // Criar professores\n    const teacherPassword = await bcrypt.hash('professor123', 12);\n    \n    const teacher1 = await prisma.user.create({\n      data: {\n        email: 'maria.silva@reforcoescolar.com',\n        password: teacherPassword,\n        name: 'Maria Silva',\n        role: 'TEACHER'\n      }\n    });\n\n    const teacher2 = await prisma.user.create({\n      data: {\n        email: 'joao.santos@reforcoescolar.com',\n        password: teacherPassword,\n        name: 'João Santos',\n        role: 'TEACHER'\n      }\n    });\n\n    console.log('👨‍🏫 Professores criados');\n\n    // Criar alunos\n    const students = await Promise.all([\n      prisma.student.create({\n        data: {\n          name: 'Ana Silva',\n          email: 'ana.silva@email.com',\n          phone: '(11) 99999-1111',\n          grade: '9º Ano',\n          teacherId: teacher1.id,\n          status: 'ACTIVE'\n        }\n      }),\n      prisma.student.create({\n        data: {\n          name: 'Pedro Santos',\n          email: 'pedro.santos@email.com',\n          phone: '(11) 99999-2222',\n          grade: '2º Ano EM',\n          teacherId: teacher1.id,\n          status: 'ACTIVE'\n        }\n      }),\n      prisma.student.create({\n        data: {\n          name: 'Sofia Mendes',\n          email: 'sofia.mendes@email.com',\n          phone: '(11) 99999-3333',\n          grade: '7º Ano',\n          teacherId: teacher2.id,\n          status: 'ACTIVE'\n        }\n      }),\n      prisma.student.create({\n        data: {\n          name: 'Lucas Ferreira',\n          email: 'lucas.ferreira@email.com',\n          phone: '(11) 99999-4444',\n          grade: '1º Ano EM',\n          teacherId: teacher2.id,\n          status: 'ACTIVE'\n        }\n      })\n    ]);\n\n    console.log('👨‍🎓 Alunos criados');\n\n    // Criar materiais didáticos\n    const materials = await Promise.all([\n      prisma.material.create({\n        data: {\n          sku: 'MAT001',\n          name: 'Caderno de Exercícios - Matemática',\n          quantity: 50,\n          minimum: 10\n        }\n      }),\n      prisma.material.create({\n        data: {\n          sku: 'HIS001',\n          name: 'Livro de História - Ensino Médio',\n          quantity: 30,\n          minimum: 5\n        }\n      }),\n      prisma.material.create({\n        data: {\n          sku: 'CIE001',\n          name: 'Kit de Experimentos - Ciências',\n          quantity: 15,\n          minimum: 3\n        }\n      }),\n      prisma.material.create({\n        data: {\n          sku: 'POR001',\n          name: 'Apostila de Português',\n          quantity: 40,\n          minimum: 8\n        }\n      })\n    ]);\n\n    console.log('📚 Materiais didáticos criados');\n\n    // Criar reforços/aulas\n    const now = new Date();\n    const tutorings = await Promise.all([\n      prisma.tutoring.create({\n        data: {\n          studentId: students[0].id,\n          subject: 'Matemática',\n          topic: 'Equações do primeiro grau',\n          plan: 'pacote',\n          nextClass: new Date(now.getTime() + 24 * 60 * 60 * 1000), // amanhã\n          status: 'SCHEDULED'\n        }\n      }),\n      prisma.tutoring.create({\n        data: {\n          studentId: students[1].id,\n          subject: 'História',\n          topic: 'Revolução Industrial',\n          plan: 'avulsa',\n          nextClass: new Date(now.getTime() + 2 * 24 * 60 * 60 * 1000), // depois de amanhã\n          status: 'COMPLETED'\n        }\n      }),\n      prisma.tutoring.create({\n        data: {\n          studentId: students[2].id,\n          subject: 'Ciências',\n          topic: 'Fotossíntese',\n          plan: 'pacote',\n          nextClass: new Date(now.getTime() + 3 * 24 * 60 * 60 * 1000), // em 3 dias\n          status: 'SCHEDULED'\n        }\n      }),\n      prisma.tutoring.create({\n        data: {\n          studentId: students[3].id,\n          subject: 'Português',\n          topic: 'Interpretação de texto',\n          plan: 'avulsa',\n          nextClass: new Date(now.getTime() + 4 * 24 * 60 * 60 * 1000), // em 4 dias\n          status: 'SCHEDULED'\n        }\n      })\n    ]);\n\n    console.log('📖 Reforços criados');\n\n    // Criar pagamentos\n    const payments = await Promise.all([\n      prisma.payment.create({\n        data: {\n          studentId: students[0].id,\n          reference: 'Mensalidade Janeiro 2024',\n          amount: 200.00,\n          dueDate: new Date('2024-01-10'),\n          status: 'PAID',\n          paidAt: new Date('2024-01-08'),\n          gateway: 'PIX'\n        }\n      }),\n      prisma.payment.create({\n        data: {\n          studentId: students[0].id,\n          reference: 'Mensalidade Fevereiro 2024',\n          amount: 200.00,\n          dueDate: new Date('2024-02-10'),\n          status: 'PENDING'\n        }\n      }),\n      prisma.payment.create({\n        data: {\n          studentId: students[1].id,\n          reference: 'Mensalidade Janeiro 2024',\n          amount: 250.00,\n          dueDate: new Date('2024-01-10'),\n          status: 'PAID',\n          paidAt: new Date('2024-01-09'),\n          gateway: 'CARTAO'\n        }\n      }),\n      prisma.payment.create({\n        data: {\n          studentId: students[2].id,\n          reference: 'Mensalidade Janeiro 2024',\n          amount: 180.00,\n          dueDate: new Date('2024-01-15'),\n          status: 'OVERDUE'\n        }\n      }),\n      prisma.payment.create({\n        data: {\n          studentId: students[3].id,\n          reference: 'Mensalidade Janeiro 2024',\n          amount: 300.00,\n          dueDate: new Date('2024-01-20'),\n          status: 'PENDING'\n        }\n      })\n    ]);\n\n    console.log('💰 Pagamentos criados');\n\n    console.log('✅ Seed concluído com sucesso!');\n    console.log('\\n📋 Dados criados:');\n    console.log(`- 1 Administrador (admin@reforcoescolar.com / admin123)`);\n    console.log(`- 2 Professores (maria.silva@reforcoescolar.com / professor123)`);\n    console.log(`- 2 Professores (joao.santos@reforcoescolar.com / professor123)`);\n    console.log(`- ${students.length} Alunos`);\n    console.log(`- ${materials.length} Materiais didáticos`);\n    console.log(`- ${tutorings.length} Reforços`);\n    console.log(`- ${payments.length} Pagamentos`);\n\n  } catch (error) {\n    console.error('❌ Erro durante o seed:', error);\n    throw error;\n  } finally {\n    await prisma.$disconnect();\n  }\n}\n\n// Executar seed se chamado diretamente\nif (require.main === module) {\n  seed()\n    .then(() => {\n      console.log('🎉 Seed executado com sucesso!');\n      process.exit(0);\n    })\n    .catch((error) => {\n      console.error('💥 Erro no seed:', error);\n      process.exit(1);\n    });\n}\n\nmodule.exports = { seed };","size_bytes":7493},"tailwind.config.js":{"content":"/** @type {import('tailwindcss').Config} */\nexport default {\n  content: ['./index.html', './src/**/*.{js,jsx,ts,tsx}'],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n}\n","size_bytes":169},"src/components/ui/card.jsx":{"content":"import React from 'react'\n\nexport function Card({ className = '', children, ...props }) {\n  return <div className={['bg-white border rounded-2xl', className].join(' ')} {...props}>{children}</div>\n}\nexport function CardHeader({ className = '', children, ...props }) {\n  return <div className={['p-5', className].join(' ')} {...props}>{children}</div>\n}\nexport function CardTitle({ className = '', children, ...props }) {\n  return <div className={['text-base font-semibold', className].join(' ')} {...props}>{children}</div>\n}\nexport function CardContent({ className = '', children, ...props }) {\n  return <div className={['p-5', className].join(' ')} {...props}>{children}</div>\n}\n","size_bytes":681},"src/main.jsx":{"content":"import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.jsx'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n)\n","size_bytes":235},"src/components/ui/badge.jsx":{"content":"import React from 'react'\n\nexport function Badge({ className = '', variant = 'default', children }) {\n  const base = 'inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium'\n  const variants = {\n    default: 'bg-slate-900 text-white',\n    secondary: 'bg-slate-100 text-slate-900',\n    outline: 'border',\n    destructive: 'bg-red-600 text-white'\n  }\n  return <span className={[base, variants[variant] || variants.default, className].join(' ')}>{children}</span>\n}\n","size_bytes":478},"src/components/ui/label.jsx":{"content":"import React from 'react'\n\nexport function Label({ className = '', children, ...props }) {\n  return <label className={['text-sm font-medium', className].join(' ')} {...props}>{children}</label>\n}\n","size_bytes":196},"src/components/LandingPage.jsx":{"content":"import React from \"react\";\nimport { motion } from \"framer-motion\";\nimport { useNavigate } from \"react-router-dom\";\nimport { \n  BookOpen, \n  Users, \n  Trophy, \n  Clock, \n  CheckCircle, \n  Star, \n  ArrowRight,\n  GraduationCap,\n  Target,\n  Heart,\n  Phone,\n  Mail,\n  MapPin\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\n\nconst LandingPage = () => {\n  const navigate = useNavigate();\n\n  const handleLoginClick = () => {\n    navigate('/login');\n  };\n  const fadeInUp = {\n    initial: { opacity: 0, y: 60 },\n    animate: { opacity: 1, y: 0 },\n    transition: { duration: 0.6 }\n  };\n\n  const staggerContainer = {\n    animate: {\n      transition: {\n        staggerChildren: 0.1\n      }\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50\">\n      {/* Header */}\n      <header className=\"bg-white/80 backdrop-blur-sm border-b border-blue-100 sticky top-0 z-50\">\n        <div className=\"container mx-auto px-6 py-4 flex justify-between items-center\">\n          <motion.div \n            className=\"flex items-center space-x-3\"\n            initial={{ opacity: 0, x: -20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ duration: 0.5 }}\n          >\n            <div className=\"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center\">\n              <GraduationCap className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold text-gray-800\">EduReforço</h1>\n              <p className=\"text-xs text-gray-600\">Excelência em Educação</p>\n            </div>\n          </motion.div>\n          \n          <motion.div\n            initial={{ opacity: 0, x: 20 }}\n            animate={{ opacity: 1, x: 0 }}\n            transition={{ duration: 0.5, delay: 0.2 }}\n          >\n            <Button \n              onClick={handleLoginClick}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl\"\n            >\n              Área do Professor\n            </Button>\n          </motion.div>\n        </div>\n      </header>\n\n      {/* Hero Section */}\n      <section className=\"py-20 px-6\">\n        <div className=\"container mx-auto text-center\">\n          <motion.div\n            variants={staggerContainer}\n            initial=\"initial\"\n            animate=\"animate\"\n            className=\"max-w-4xl mx-auto\"\n          >\n            <motion.h1 \n              variants={fadeInUp}\n              className=\"text-5xl md:text-6xl font-bold text-gray-800 mb-6 leading-tight\"\n            >\n              Transforme o Futuro com\n              <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600\"> Reforço Escolar</span>\n            </motion.h1>\n            \n            <motion.p \n              variants={fadeInUp}\n              className=\"text-xl text-gray-600 mb-8 leading-relaxed\"\n            >\n              Oferecemos aulas personalizadas de reforço escolar para alunos do ensino fundamental e médio. \n              Nossa metodologia comprovada ajuda estudantes a superar dificuldades e alcançar excelência acadêmica.\n            </motion.p>\n            \n            <motion.div \n              variants={fadeInUp}\n              className=\"flex flex-col sm:flex-row gap-4 justify-center items-center\"\n            >\n              <Button \n                size=\"lg\" \n                className=\"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-8 py-4 rounded-xl text-lg font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105\"\n              >\n                Agende uma Aula Gratuita\n                <ArrowRight className=\"ml-2 w-5 h-5\" />\n              </Button>\n              <Button \n                variant=\"outline\" \n                size=\"lg\"\n                className=\"border-2 border-blue-600 text-blue-600 hover:bg-blue-50 px-8 py-4 rounded-xl text-lg font-semibold transition-all duration-300\"\n              >\n                Saiba Mais\n              </Button>\n            </motion.div>\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Stats Section */}\n      <section className=\"py-16 bg-white/50\">\n        <div className=\"container mx-auto px-6\">\n          <motion.div \n            className=\"grid grid-cols-2 md:grid-cols-4 gap-8\"\n            variants={staggerContainer}\n            initial=\"initial\"\n            whileInView=\"animate\"\n            viewport={{ once: true }}\n          >\n            {[\n              { number: \"500+\", label: \"Alunos Atendidos\", icon: Users },\n              { number: \"95%\", label: \"Taxa de Aprovação\", icon: Trophy },\n              { number: \"3\", label: \"Anos de Experiência\", icon: Clock },\n              { number: \"15+\", label: \"Disciplinas\", icon: BookOpen }\n            ].map((stat, index) => (\n              <motion.div \n                key={index}\n                variants={fadeInUp}\n                className=\"text-center\"\n              >\n                <div className=\"w-16 h-16 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n                  <stat.icon className=\"w-8 h-8 text-blue-600\" />\n                </div>\n                <h3 className=\"text-3xl font-bold text-gray-800 mb-2\">{stat.number}</h3>\n                <p className=\"text-gray-600 font-medium\">{stat.label}</p>\n              </motion.div>\n            ))}\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Services Section */}\n      <section className=\"py-20 px-6\">\n        <div className=\"container mx-auto\">\n          <motion.div \n            className=\"text-center mb-16\"\n            initial={{ opacity: 0, y: 30 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            viewport={{ once: true }}\n            transition={{ duration: 0.6 }}\n          >\n            <h2 className=\"text-4xl font-bold text-gray-800 mb-4\">Nossos Serviços</h2>\n            <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n              Oferecemos soluções educacionais personalizadas para cada necessidade\n            </p>\n          </motion.div>\n\n          <motion.div \n            className=\"grid md:grid-cols-3 gap-8\"\n            variants={staggerContainer}\n            initial=\"initial\"\n            whileInView=\"animate\"\n            viewport={{ once: true }}\n          >\n            {[\n              {\n                title: \"Reforço Individual\",\n                description: \"Aulas personalizadas focadas nas dificuldades específicas de cada aluno\",\n                icon: Target,\n                features: [\"Atenção exclusiva\", \"Ritmo personalizado\", \"Material adaptado\"]\n              },\n              {\n                title: \"Grupos Pequenos\",\n                description: \"Turmas reduzidas para maior interação e aprendizado colaborativo\",\n                icon: Users,\n                features: [\"Máximo 4 alunos\", \"Interação social\", \"Custo acessível\"]\n              },\n              {\n                title: \"Preparação para Provas\",\n                description: \"Preparação intensiva para vestibulares, ENEM e concursos\",\n                icon: Trophy,\n                features: [\"Simulados\", \"Técnicas de estudo\", \"Acompanhamento\"]\n              }\n            ].map((service, index) => (\n              <motion.div key={index} variants={fadeInUp}>\n                <Card className=\"h-full hover:shadow-xl transition-all duration-300 border-0 bg-white/80 backdrop-blur-sm\">\n                  <CardContent className=\"p-8\">\n                    <div className=\"w-16 h-16 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-2xl flex items-center justify-center mb-6\">\n                      <service.icon className=\"w-8 h-8 text-blue-600\" />\n                    </div>\n                    <h3 className=\"text-2xl font-bold text-gray-800 mb-4\">{service.title}</h3>\n                    <p className=\"text-gray-600 mb-6 leading-relaxed\">{service.description}</p>\n                    <ul className=\"space-y-2\">\n                      {service.features.map((feature, idx) => (\n                        <li key={idx} className=\"flex items-center text-gray-700\">\n                          <CheckCircle className=\"w-5 h-5 text-green-500 mr-3 flex-shrink-0\" />\n                          {feature}\n                        </li>\n                      ))}\n                    </ul>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            ))}\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Methodology Section */}\n      <section className=\"py-20 bg-gradient-to-r from-blue-600 to-indigo-600 text-white\">\n        <div className=\"container mx-auto px-6\">\n          <motion.div \n            className=\"text-center mb-16\"\n            initial={{ opacity: 0, y: 30 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            viewport={{ once: true }}\n            transition={{ duration: 0.6 }}\n          >\n            <h2 className=\"text-4xl font-bold mb-4\">Nossa Metodologia</h2>\n            <p className=\"text-xl text-blue-100 max-w-2xl mx-auto\">\n              Abordagem pedagógica comprovada que respeita o ritmo de cada estudante\n            </p>\n          </motion.div>\n\n          <motion.div \n            className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-8\"\n            variants={staggerContainer}\n            initial=\"initial\"\n            whileInView=\"animate\"\n            viewport={{ once: true }}\n          >\n            {[\n              { step: \"01\", title: \"Diagnóstico\", description: \"Avaliamos as dificuldades e potenciais do aluno\" },\n              { step: \"02\", title: \"Planejamento\", description: \"Criamos um plano de estudos personalizado\" },\n              { step: \"03\", title: \"Execução\", description: \"Aplicamos metodologias ativas de ensino\" },\n              { step: \"04\", title: \"Acompanhamento\", description: \"Monitoramos o progresso continuamente\" }\n            ].map((item, index) => (\n              <motion.div \n                key={index}\n                variants={fadeInUp}\n                className=\"text-center\"\n              >\n                <div className=\"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-4\">\n                  <span className=\"text-2xl font-bold\">{item.step}</span>\n                </div>\n                <h3 className=\"text-xl font-bold mb-3\">{item.title}</h3>\n                <p className=\"text-blue-100 leading-relaxed\">{item.description}</p>\n              </motion.div>\n            ))}\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Testimonials Section */}\n      <section className=\"py-20 px-6 bg-gray-50\">\n        <div className=\"container mx-auto\">\n          <motion.div \n            className=\"text-center mb-16\"\n            initial={{ opacity: 0, y: 30 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            viewport={{ once: true }}\n            transition={{ duration: 0.6 }}\n          >\n            <h2 className=\"text-4xl font-bold text-gray-800 mb-4\">O que dizem nossos alunos</h2>\n            <p className=\"text-xl text-gray-600\">Depoimentos reais de quem transformou sua vida acadêmica</p>\n          </motion.div>\n\n          <motion.div \n            className=\"grid md:grid-cols-3 gap-8\"\n            variants={staggerContainer}\n            initial=\"initial\"\n            whileInView=\"animate\"\n            viewport={{ once: true }}\n          >\n            {[\n              {\n                name: \"Maria Silva\",\n                grade: \"9º Ano\",\n                text: \"Melhorei muito em matemática! As aulas são claras e o professor tem muita paciência.\",\n                rating: 5\n              },\n              {\n                name: \"João Santos\",\n                grade: \"2º EM\",\n                text: \"Consegui passar no vestibular graças ao reforço. Recomendo para todos!\",\n                rating: 5\n              },\n              {\n                name: \"Ana Costa\",\n                grade: \"8º Ano\",\n                text: \"Agora entendo física de verdade. As explicações são muito didáticas.\",\n                rating: 5\n              }\n            ].map((testimonial, index) => (\n              <motion.div key={index} variants={fadeInUp}>\n                <Card className=\"h-full bg-white border-0 shadow-lg hover:shadow-xl transition-all duration-300\">\n                  <CardContent className=\"p-8\">\n                    <div className=\"flex mb-4\">\n                      {[...Array(testimonial.rating)].map((_, i) => (\n                        <Star key={i} className=\"w-5 h-5 text-yellow-400 fill-current\" />\n                      ))}\n                    </div>\n                    <p className=\"text-gray-700 mb-6 leading-relaxed italic\">\"{testimonial.text}\"</p>\n                    <div>\n                      <h4 className=\"font-bold text-gray-800\">{testimonial.name}</h4>\n                      <p className=\"text-gray-600\">{testimonial.grade}</p>\n                    </div>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            ))}\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Contact Section */}\n      <section className=\"py-20 px-6 bg-white\">\n        <div className=\"container mx-auto\">\n          <motion.div \n            className=\"text-center mb-16\"\n            initial={{ opacity: 0, y: 30 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            viewport={{ once: true }}\n            transition={{ duration: 0.6 }}\n          >\n            <h2 className=\"text-4xl font-bold text-gray-800 mb-4\">Entre em Contato</h2>\n            <p className=\"text-xl text-gray-600\">Estamos prontos para ajudar seu filho a alcançar o sucesso acadêmico</p>\n          </motion.div>\n\n          <motion.div \n            className=\"grid md:grid-cols-2 gap-12 max-w-4xl mx-auto\"\n            variants={staggerContainer}\n            initial=\"initial\"\n            whileInView=\"animate\"\n            viewport={{ once: true }}\n          >\n            <motion.div variants={fadeInUp}>\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-6\">Informações de Contato</h3>\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center\">\n                  <Phone className=\"w-6 h-6 text-blue-600 mr-4\" />\n                  <span className=\"text-gray-700\">(55) 99999-9999</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <Mail className=\"w-6 h-6 text-blue-600 mr-4\" />\n                  <span className=\"text-gray-700\">contato@edureforco.com.br</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <MapPin className=\"w-6 h-6 text-blue-600 mr-4\" />\n                  <span className=\"text-gray-700\">Rua da Educação, 123 - Centro</span>\n                </div>\n              </div>\n            </motion.div>\n\n            <motion.div variants={fadeInUp}>\n              <Card className=\"border-0 shadow-lg\">\n                <CardContent className=\"p-8\">\n                  <h3 className=\"text-2xl font-bold text-gray-800 mb-6\">Agende sua Aula Gratuita</h3>\n                  <Button \n                    size=\"lg\" \n                    className=\"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white py-4 rounded-xl text-lg font-semibold shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105\"\n                  >\n                    <Heart className=\"mr-2 w-5 h-5\" />\n                    Quero Começar Agora!\n                  </Button>\n                  <p className=\"text-center text-gray-600 mt-4 text-sm\">\n                    Primeira aula gratuita • Sem compromisso • Avaliação completa\n                  </p>\n                </CardContent>\n              </Card>\n            </motion.div>\n          </motion.div>\n        </div>\n      </section>\n\n      {/* Footer */}\n      <footer className=\"bg-gray-800 text-white py-12\">\n        <div className=\"container mx-auto px-6\">\n          <div className=\"text-center\">\n            <div className=\"flex items-center justify-center space-x-3 mb-4\">\n              <div className=\"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center\">\n                <GraduationCap className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h3 className=\"text-xl font-bold\">EduReforço</h3>\n                <p className=\"text-sm text-gray-400\">Excelência em Educação</p>\n              </div>\n            </div>\n            <p className=\"text-gray-400 mb-4\">\n              Transformando vidas através da educação de qualidade\n            </p>\n            <p className=\"text-gray-500 text-sm\">\n              © 2024 EduReforço. Todos os direitos reservados.\n            </p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default LandingPage;","size_bytes":17119},"src/components/ui/input.jsx":{"content":"import React from 'react'\n\nexport function Input({ className = '', ...props }) {\n  const base = 'h-10 w-full rounded-xl border bg-white px-3 text-sm outline-none transition placeholder:text-slate-400 focus:ring-2 focus:ring-sky-300'\n  return <input className={[base, className].join(' ')} {...props} />\n}\n","size_bytes":305},"src/components/Materials/MaterialForm.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { X } from 'lucide-react';\n\nconst MaterialForm = ({ material, onSave, onCancel }) => {\n  const [formData, setFormData] = useState({\n    sku: '',\n    name: '',\n    quantity: '',\n    minimum: '10'\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    if (material) {\n      setFormData({\n        sku: material.sku || '',\n        name: material.name || '',\n        quantity: material.quantity?.toString() || '',\n        minimum: material.minimum?.toString() || '10'\n      });\n    }\n  }, [material]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (errors[name]) {\n      setErrors(prev => ({ ...prev, [name]: '' }));\n    }\n  };\n\n  const validate = () => {\n    const newErrors = {};\n\n    if (!formData.sku.trim()) {\n      newErrors.sku = 'SKU é obrigatório';\n    }\n    if (!formData.name.trim()) {\n      newErrors.name = 'Nome é obrigatório';\n    }\n    if (!formData.quantity || parseInt(formData.quantity) < 0) {\n      newErrors.quantity = 'Quantidade deve ser um número positivo';\n    }\n    if (!formData.minimum || parseInt(formData.minimum) < 0) {\n      newErrors.minimum = 'Mínimo deve ser um número positivo';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!validate()) {\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const dataToSend = {\n        ...formData,\n        quantity: parseInt(formData.quantity),\n        minimum: parseInt(formData.minimum)\n      };\n      await onSave(dataToSend);\n    } catch (error) {\n      console.error('Erro ao salvar material:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4\">\n      <div className=\"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center\">\n          <h3 className=\"text-xl font-semibold text-gray-900\">\n            {material ? 'Editar Material' : 'Novo Material'}\n          </h3>\n          <button\n            onClick={onCancel}\n            className=\"text-gray-400 hover:text-gray-500\"\n          >\n            <X className=\"h-6 w-6\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                SKU *\n              </label>\n              <input\n                type=\"text\"\n                name=\"sku\"\n                value={formData.sku}\n                onChange={handleChange}\n                disabled={!!material}\n                placeholder=\"Ex: MAT-001\"\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.sku ? 'border-red-500' : 'border-gray-300'\n                } ${material ? 'bg-gray-100 cursor-not-allowed' : ''}`}\n              />\n              {errors.sku && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.sku}</p>\n              )}\n              {material && (\n                <p className=\"mt-1 text-xs text-gray-500\">SKU não pode ser alterado</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Nome *\n              </label>\n              <input\n                type=\"text\"\n                name=\"name\"\n                value={formData.name}\n                onChange={handleChange}\n                placeholder=\"Ex: Caderno 96 folhas\"\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.name ? 'border-red-500' : 'border-gray-300'\n                }`}\n              />\n              {errors.name && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.name}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Quantidade *\n              </label>\n              <input\n                type=\"number\"\n                name=\"quantity\"\n                value={formData.quantity}\n                onChange={handleChange}\n                placeholder=\"0\"\n                min=\"0\"\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.quantity ? 'border-red-500' : 'border-gray-300'\n                }`}\n              />\n              {errors.quantity && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.quantity}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Quantidade Mínima *\n              </label>\n              <input\n                type=\"number\"\n                name=\"minimum\"\n                value={formData.minimum}\n                onChange={handleChange}\n                placeholder=\"10\"\n                min=\"0\"\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.minimum ? 'border-red-500' : 'border-gray-300'\n                }`}\n              />\n              {errors.minimum && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.minimum}</p>\n              )}\n              <p className=\"mt-1 text-xs text-gray-500\">\n                Você será alertado quando o estoque atingir este valor\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-3 pt-6 border-t\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              Cancelar\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading ? 'Salvando...' : (material ? 'Atualizar' : 'Criar')}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default MaterialForm;\n","size_bytes":6910},"src/pages/Tutorings.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport TutoringsList from '../components/Tutorings/TutoringsList';\nimport TutoringForm from '../components/Tutorings/TutoringForm';\nimport DeleteConfirmModal from '../components/Tutorings/DeleteConfirmModal';\nimport { useToast } from '../components/common/Toast';\nimport { tutoringsApi } from '../services/tutoringsApi';\n\nconst Tutorings = () => {\n  const { success, error, ToastContainer } = useToast();\n  const [tutorings, setTutorings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [globalError, setGlobalError] = useState('');\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    total: 0,\n    totalPages: 0\n  });\n  const [filters, setFilters] = useState({\n    search: '',\n    status: ''\n  });\n\n  const [showForm, setShowForm] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [selectedTutoring, setSelectedTutoring] = useState(null);\n  const [editingTutoring, setEditingTutoring] = useState(null);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n\n  const loadTutorings = async (page = 1, newFilters = filters) => {\n    try {\n      setLoading(true);\n      setGlobalError('');\n      \n      const response = await tutoringsApi.getAll({\n        page,\n        limit: pagination.limit,\n        ...newFilters\n      });\n\n      setTutorings(response.tutorings || []);\n      setPagination({\n        page: response.pagination?.page || 1,\n        limit: response.pagination?.limit || 10,\n        total: response.pagination?.total || 0,\n        totalPages: response.pagination?.pages || 0\n      });\n    } catch (err) {\n      console.error('Erro ao carregar reforços:', err);\n      const errorMessage = 'Erro ao carregar reforços. Tente novamente.';\n      setGlobalError(errorMessage);\n      error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadTutorings();\n  }, []);\n\n  const handlePageChange = (newPage) => {\n    loadTutorings(newPage);\n  };\n\n  const handleFiltersChange = (newFilters) => {\n    setFilters(newFilters);\n    loadTutorings(1, newFilters);\n  };\n\n  const handleAddTutoring = () => {\n    setEditingTutoring(null);\n    setShowForm(true);\n  };\n\n  const handleEditTutoring = (tutoring) => {\n    setEditingTutoring(tutoring);\n    setShowForm(true);\n  };\n\n  const handleDeleteTutoring = (tutoring) => {\n    setSelectedTutoring(tutoring);\n    setShowDeleteModal(true);\n  };\n\n  const handleConfirmDelete = async () => {\n    if (!selectedTutoring) return;\n\n    try {\n      setDeleteLoading(true);\n      await tutoringsApi.delete(selectedTutoring.id);\n      \n      await loadTutorings(pagination.page);\n      \n      setShowDeleteModal(false);\n      setSelectedTutoring(null);\n      \n      success('Reforço excluído com sucesso');\n    } catch (err) {\n      console.error('Erro ao excluir reforço:', err);\n      const errorMessage = 'Erro ao excluir reforço. Tente novamente.';\n      setGlobalError(errorMessage);\n      error(errorMessage);\n    } finally {\n      setDeleteLoading(false);\n    }\n  };\n\n  const handleCompleteTutoring = async (tutoring) => {\n    try {\n      await tutoringsApi.complete(tutoring.id, 'Aula concluída');\n      \n      await loadTutorings(pagination.page);\n      \n      success('Reforço marcado como concluído');\n    } catch (err) {\n      console.error('Erro ao concluir reforço:', err);\n      error('Erro ao concluir reforço. Tente novamente.');\n    }\n  };\n\n  const handleSaveTutoring = async (tutoringData) => {\n    try {\n      if (editingTutoring) {\n        await tutoringsApi.update(editingTutoring.id, tutoringData);\n        success('Reforço atualizado com sucesso');\n      } else {\n        await tutoringsApi.create(tutoringData);\n        success('Reforço criado com sucesso');\n      }\n      \n      await loadTutorings(pagination.page);\n      \n      setShowForm(false);\n      setEditingTutoring(null);\n    } catch (err) {\n      console.error('Erro ao salvar reforço:', err);\n      const errorMessage = editingTutoring \n        ? 'Erro ao atualizar reforço. Tente novamente.'\n        : 'Erro ao criar reforço. Tente novamente.';\n      error(errorMessage);\n      throw err;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Reforços</h1>\n              <p className=\"mt-2 text-sm text-gray-600\">\n                Gerencie as aulas e sessões de reforço escolar\n              </p>\n            </div>\n            <button\n              onClick={handleAddTutoring}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              <svg className=\"-ml-1 mr-2 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n              </svg>\n              Novo Reforço\n            </button>\n          </div>\n        </div>\n\n        {globalError && (\n          <div className=\"px-4 sm:px-0 mb-4\">\n            <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n              <div className=\"flex\">\n                <div className=\"flex-shrink-0\">\n                  <svg className=\"h-5 w-5 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-red-600\">{globalError}</p>\n                </div>\n                <div className=\"ml-auto pl-3\">\n                  <button\n                    onClick={() => setGlobalError('')}\n                    className=\"text-red-400 hover:text-red-600\"\n                  >\n                    <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"px-4 sm:px-0\">\n          <TutoringsList\n            tutorings={tutorings}\n            loading={loading}\n            error={globalError}\n            pagination={pagination}\n            filters={filters}\n            onPageChange={handlePageChange}\n            onFiltersChange={handleFiltersChange}\n            onEdit={handleEditTutoring}\n            onDelete={handleDeleteTutoring}\n            onComplete={handleCompleteTutoring}\n          />\n        </div>\n      </div>\n\n      {showForm && (\n        <TutoringForm\n          tutoring={editingTutoring}\n          onSave={handleSaveTutoring}\n          onCancel={() => {\n            setShowForm(false);\n            setEditingTutoring(null);\n          }}\n        />\n      )}\n\n      {showDeleteModal && selectedTutoring && (\n        <DeleteConfirmModal\n          tutoring={selectedTutoring}\n          loading={deleteLoading}\n          onConfirm={handleConfirmDelete}\n          onCancel={() => {\n            setShowDeleteModal(false);\n            setSelectedTutoring(null);\n          }}\n        />\n      )}\n\n      {ToastContainer()}\n    </div>\n  );\n};\n\nexport default Tutorings;\n","size_bytes":7751},"src/components/Tutorings/DeleteConfirmModal.jsx":{"content":"import React from 'react';\nimport { AlertTriangle } from 'lucide-react';\n\nconst DeleteConfirmModal = ({ tutoring, loading, onConfirm, onCancel }) => {\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4\">\n      <div className=\"relative bg-white rounded-lg shadow-xl max-w-md w-full\">\n        <div className=\"p-6\">\n          <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full\">\n            <AlertTriangle className=\"h-6 w-6 text-red-600\" />\n          </div>\n          \n          <div className=\"mt-4 text-center\">\n            <h3 className=\"text-lg font-medium text-gray-900\">\n              Excluir Reforço\n            </h3>\n            <div className=\"mt-2\">\n              <p className=\"text-sm text-gray-500\">\n                Tem certeza que deseja excluir o reforço de <strong>{tutoring.subject}</strong> para o aluno{' '}\n                <strong>{tutoring.student?.name || 'N/A'}</strong>?\n              </p>\n              <p className=\"text-sm text-gray-500 mt-2\">\n                Esta ação não pode ser desfeita.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-gray-50 px-6 py-3 flex justify-end gap-3 rounded-b-lg\">\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            disabled={loading}\n            className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n          >\n            Cancelar\n          </button>\n          <button\n            type=\"button\"\n            onClick={onConfirm}\n            disabled={loading}\n            className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {loading ? 'Excluindo...' : 'Excluir'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DeleteConfirmModal;\n","size_bytes":2134},"replit.md":{"content":"# Reforço Escolar - Sistema de Gerenciamento\n\n## Overview\n\nThis is a full-stack tutoring school management system with a React frontend and Express backend. The application manages students, tutoring sessions, educational materials, and payment tracking. It features role-based access control (admin and teacher roles) with JWT authentication.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Technology Stack:**\n- React 18 with Vite as the build tool\n- Tailwind CSS for styling with custom design tokens\n- Framer Motion for animations\n- React Router DOM for client-side routing\n- Axios for API communication\n\n**Component Structure:**\n- Follows a component-driven architecture with reusable UI primitives located in `src/components/ui/*`\n- UI components are lightweight implementations inspired by shadcn design patterns (Button, Card, Badge, Input, Label, Table)\n- Path aliasing configured (`@/*` maps to `src/*`) for cleaner imports\n\n**State Management:**\n- Local state management with React hooks\n- API service layer abstracts backend communication with dedicated service files for each resource type (students, tutorings, materials, payments)\n- Token-based authentication stored in localStorage\n\n**API Integration:**\n- Centralized axios instance with request/response interceptors\n- Automatic token injection for authenticated requests\n- Automatic redirect to login on 401 responses\n- Environment-aware API base URL configuration (localhost vs production)\n\n### Backend Architecture\n\n**Technology Stack:**\n- Node.js with Express framework (CommonJS module system)\n- Prisma ORM for database operations\n- PostgreSQL as the primary database\n- JWT for authentication with session management\n- bcryptjs for password hashing\n\n**API Design:**\n- RESTful API structure with resource-based routes\n- Modular route organization (`/api/auth`, `/api/students`, `/api/tutorings`, `/api/materials`, `/api/payments`)\n- Middleware-based authentication and authorization\n- Role-based access control (ADMIN can see all data, TEACHER sees only their students)\n\n**Security Measures:**\n- Helmet.js for security headers\n- CORS configured for cross-origin requests\n- Rate limiting (100 requests per 15-minute window per IP)\n- Request size limits (10mb JSON payload)\n- Trust proxy configuration for deployment environments\n\n**Database Design (Prisma/PostgreSQL):**\n- User model with role-based access (ADMIN, TEACHER)\n- Student model with teacher association\n- Tutoring sessions tracking\n- Material inventory management\n- Payment tracking with status management\n- Session-based token storage for authentication\n\n**Authentication Flow:**\n- JWT tokens stored in database sessions table\n- Token expiration validation on each request\n- Graceful session cleanup on expiration\n- Admin-only user creation (registration requires admin authentication)\n\n### Deployment Configuration\n\n**Frontend:**\n- Vite dev server configured for host `0.0.0.0:5000`\n- Build process generates optimized static assets\n- Allowed hosts enabled for deployment flexibility\n\n**Backend:**\n- Port configurable via environment variables (default: 3001)\n- Database connection logging in development mode\n- Graceful shutdown handlers (SIGINT, SIGTERM)\n- Health check endpoint at `/api/health`\n- Database seeding utility for initial setup\n\n## External Dependencies\n\n### Core Dependencies\n\n**Frontend:**\n- `react` & `react-dom` (v18.2.0) - UI framework\n- `react-router-dom` (v7.9.4) - Client-side routing\n- `axios` (v1.12.2) - HTTP client\n- `lucide-react` (v0.462.0) - Icon library\n- `framer-motion` (v11.2.6) - Animation library\n- `tailwindcss` (v3.4.9) - CSS framework\n- `vite` (v5.4.0) - Build tool and dev server\n\n**Backend:**\n- `express` (v4.21.1) - Web framework\n- `@prisma/client` (v5.22.0) - Database ORM\n- `jsonwebtoken` (v9.0.2) - JWT authentication\n- `bcryptjs` (v2.4.3) - Password hashing\n- `cors` (v2.8.5) - Cross-origin resource sharing\n- `helmet` (v8.0.0) - Security middleware\n- `express-rate-limit` (v7.4.1) - Rate limiting\n- `dotenv` (v16.4.7) - Environment variable management\n\n### Database\n\n**PostgreSQL:**\n- Managed through Prisma ORM\n- Connection configured via environment variables\n- Schema migrations managed with Prisma CLI\n- Supports development logging and query inspection\n\n### Development Tools\n\n- `nodemon` (v3.1.7) - Auto-restart development server\n- `autoprefixer` & `postcss` - CSS processing\n- `@vitejs/plugin-react` - React support for Vite\n- Prisma Studio for database inspection\n\n### Environment Variables Required\n\n- `DATABASE_URL` - PostgreSQL connection string\n- `JWT_SECRET` - Secret key for JWT signing\n- `PORT` - Backend server port (default: 3001)\n- `FRONTEND_URL` - Frontend URL for CORS configuration\n- `NODE_ENV` - Environment mode (development/production)","size_bytes":4828},"src/components/Payments/PaymentForm.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { X } from 'lucide-react';\nimport { studentsApi } from '../../services/studentsApi';\n\nconst PaymentForm = ({ payment, onSave, onCancel }) => {\n  const [formData, setFormData] = useState({\n    studentId: '',\n    reference: '',\n    amount: '',\n    status: 'PENDING',\n    gateway: 'CORA',\n    dueDate: ''\n  });\n  const [students, setStudents] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingStudents, setLoadingStudents] = useState(true);\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    loadStudents();\n    if (payment) {\n      setFormData({\n        studentId: payment.studentId || '',\n        reference: payment.reference || '',\n        amount: payment.amount?.toString() || '',\n        status: payment.status || 'PENDING',\n        gateway: payment.gateway || 'CORA',\n        dueDate: payment.dueDate ? payment.dueDate.split('T')[0] : ''\n      });\n    }\n  }, [payment]);\n\n  const loadStudents = async () => {\n    try {\n      setLoadingStudents(true);\n      const response = await studentsApi.getAll({ status: 'ACTIVE', limit: 100 });\n      setStudents(response.students || []);\n    } catch (error) {\n      console.error('Erro ao carregar alunos:', error);\n    } finally {\n      setLoadingStudents(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (errors[name]) {\n      setErrors(prev => ({ ...prev, [name]: '' }));\n    }\n  };\n\n  const validate = () => {\n    const newErrors = {};\n\n    if (!formData.studentId.trim()) {\n      newErrors.studentId = 'Aluno é obrigatório';\n    }\n    if (!formData.reference.trim()) {\n      newErrors.reference = 'Referência é obrigatória';\n    }\n    if (!formData.amount || parseFloat(formData.amount) <= 0) {\n      newErrors.amount = 'Valor deve ser maior que zero';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!validate()) {\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const dataToSend = {\n        ...formData,\n        amount: parseFloat(formData.amount),\n        dueDate: formData.dueDate ? new Date(formData.dueDate).toISOString() : null\n      };\n      await onSave(dataToSend);\n    } catch (error) {\n      console.error('Erro ao salvar pagamento:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4\">\n      <div className=\"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center\">\n          <h3 className=\"text-xl font-semibold text-gray-900\">\n            {payment ? 'Editar Pagamento' : 'Novo Pagamento'}\n          </h3>\n          <button\n            onClick={onCancel}\n            className=\"text-gray-400 hover:text-gray-500\"\n          >\n            <X className=\"h-6 w-6\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Aluno *\n              </label>\n              {loadingStudents ? (\n                <div className=\"text-sm text-gray-500\">Carregando alunos...</div>\n              ) : (\n                <select\n                  name=\"studentId\"\n                  value={formData.studentId}\n                  onChange={handleChange}\n                  className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                    errors.studentId ? 'border-red-500' : 'border-gray-300'\n                  }`}\n                >\n                  <option value=\"\">Selecione um aluno</option>\n                  {students.map(student => (\n                    <option key={student.id} value={student.id}>\n                      {student.name} - {student.grade}\n                    </option>\n                  ))}\n                </select>\n              )}\n              {errors.studentId && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.studentId}</p>\n              )}\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Referência *\n              </label>\n              <input\n                type=\"text\"\n                name=\"reference\"\n                value={formData.reference}\n                onChange={handleChange}\n                placeholder=\"Ex: Mensalidade 11/2025\"\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.reference ? 'border-red-500' : 'border-gray-300'\n                }`}\n              />\n              {errors.reference && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.reference}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Valor (R$) *\n              </label>\n              <input\n                type=\"number\"\n                name=\"amount\"\n                value={formData.amount}\n                onChange={handleChange}\n                placeholder=\"0.00\"\n                step=\"0.01\"\n                min=\"0\"\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.amount ? 'border-red-500' : 'border-gray-300'\n                }`}\n              />\n              {errors.amount && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.amount}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Data de Vencimento\n              </label>\n              <input\n                type=\"date\"\n                name=\"dueDate\"\n                value={formData.dueDate}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Gateway\n              </label>\n              <select\n                name=\"gateway\"\n                value={formData.gateway}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"CORA\">CORA</option>\n                <option value=\"PIX\">PIX</option>\n                <option value=\"BOLETO\">Boleto</option>\n                <option value=\"CARTAO\">Cartão</option>\n                <option value=\"DINHEIRO\">Dinheiro</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Status\n              </label>\n              <select\n                name=\"status\"\n                value={formData.status}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"PENDING\">Pendente</option>\n                <option value=\"PAID\">Pago</option>\n                <option value=\"OVERDUE\">Vencido</option>\n                <option value=\"CANCELLED\">Cancelado</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-3 pt-6 border-t\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              Cancelar\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading ? 'Salvando...' : (payment ? 'Atualizar' : 'Criar')}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentForm;\n","size_bytes":8866},"src/components/Tutorings/TutoringForm.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { X } from 'lucide-react';\nimport { studentsApi } from '../../services/studentsApi';\n\nconst TutoringForm = ({ tutoring, onSave, onCancel }) => {\n  const [formData, setFormData] = useState({\n    studentId: '',\n    subject: '',\n    topic: '',\n    plan: '',\n    nextClass: '',\n    status: 'SCHEDULED'\n  });\n  const [students, setStudents] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingStudents, setLoadingStudents] = useState(true);\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    loadStudents();\n    if (tutoring) {\n      setFormData({\n        studentId: tutoring.studentId || '',\n        subject: tutoring.subject || '',\n        topic: tutoring.topic || '',\n        plan: tutoring.plan || '',\n        nextClass: tutoring.nextClass ? tutoring.nextClass.split('T')[0] + ' ' + tutoring.nextClass.split('T')[1].substring(0, 5) : '',\n        status: tutoring.status || 'SCHEDULED'\n      });\n    }\n  }, [tutoring]);\n\n  const loadStudents = async () => {\n    try {\n      setLoadingStudents(true);\n      const response = await studentsApi.getAll({ status: 'ACTIVE', limit: 100 });\n      setStudents(response.students || []);\n    } catch (error) {\n      console.error('Erro ao carregar alunos:', error);\n    } finally {\n      setLoadingStudents(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (errors[name]) {\n      setErrors(prev => ({ ...prev, [name]: '' }));\n    }\n  };\n\n  const validate = () => {\n    const newErrors = {};\n\n    if (!formData.studentId.trim()) {\n      newErrors.studentId = 'Aluno é obrigatório';\n    }\n    if (!formData.subject.trim()) {\n      newErrors.subject = 'Disciplina é obrigatória';\n    }\n    if (!formData.topic.trim()) {\n      newErrors.topic = 'Assunto é obrigatório';\n    }\n    if (!formData.plan.trim()) {\n      newErrors.plan = 'Plano é obrigatório';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!validate()) {\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const dataToSend = {\n        ...formData,\n        nextClass: formData.nextClass ? new Date(formData.nextClass).toISOString() : null\n      };\n      await onSave(dataToSend);\n    } catch (error) {\n      console.error('Erro ao salvar reforço:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4\">\n      <div className=\"relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center\">\n          <h3 className=\"text-xl font-semibold text-gray-900\">\n            {tutoring ? 'Editar Reforço' : 'Novo Reforço'}\n          </h3>\n          <button\n            onClick={onCancel}\n            className=\"text-gray-400 hover:text-gray-500\"\n          >\n            <X className=\"h-6 w-6\" />\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Aluno *\n              </label>\n              {loadingStudents ? (\n                <div className=\"text-sm text-gray-500\">Carregando alunos...</div>\n              ) : (\n                <select\n                  name=\"studentId\"\n                  value={formData.studentId}\n                  onChange={handleChange}\n                  className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                    errors.studentId ? 'border-red-500' : 'border-gray-300'\n                  }`}\n                >\n                  <option value=\"\">Selecione um aluno</option>\n                  {students.map(student => (\n                    <option key={student.id} value={student.id}>\n                      {student.name} - {student.grade}\n                    </option>\n                  ))}\n                </select>\n              )}\n              {errors.studentId && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.studentId}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Disciplina *\n              </label>\n              <input\n                type=\"text\"\n                name=\"subject\"\n                value={formData.subject}\n                onChange={handleChange}\n                placeholder=\"Ex: Matemática\"\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.subject ? 'border-red-500' : 'border-gray-300'\n                }`}\n              />\n              {errors.subject && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.subject}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Plano *\n              </label>\n              <select\n                name=\"plan\"\n                value={formData.plan}\n                onChange={handleChange}\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.plan ? 'border-red-500' : 'border-gray-300'\n                }`}\n              >\n                <option value=\"\">Selecione um plano</option>\n                <option value=\"Aula avulsa\">Aula avulsa</option>\n                <option value=\"Pacote 4 aulas\">Pacote 4 aulas</option>\n                <option value=\"Pacote 8 aulas\">Pacote 8 aulas</option>\n                <option value=\"Pacote 12 aulas\">Pacote 12 aulas</option>\n                <option value=\"Mensal\">Mensal</option>\n              </select>\n              {errors.plan && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.plan}</p>\n              )}\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Assunto *\n              </label>\n              <input\n                type=\"text\"\n                name=\"topic\"\n                value={formData.topic}\n                onChange={handleChange}\n                placeholder=\"Ex: Equações do 1º grau\"\n                className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.topic ? 'border-red-500' : 'border-gray-300'\n                }`}\n              />\n              {errors.topic && (\n                <p className=\"mt-1 text-sm text-red-600\">{errors.topic}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Próxima Aula\n              </label>\n              <input\n                type=\"datetime-local\"\n                name=\"nextClass\"\n                value={formData.nextClass}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Status\n              </label>\n              <select\n                name=\"status\"\n                value={formData.status}\n                onChange={handleChange}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"SCHEDULED\">Agendado</option>\n                <option value=\"COMPLETED\">Concluído</option>\n                <option value=\"CANCELLED\">Cancelado</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end gap-3 pt-6 border-t\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              Cancelar\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading ? 'Salvando...' : (tutoring ? 'Atualizar' : 'Criar')}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default TutoringForm;\n","size_bytes":9140},"src/services/tutoringsApi.js":{"content":"import api from './api';\n\nexport const tutoringsApi = {\n  getAll: async (params = {}) => {\n    try {\n      const response = await api.get('/tutorings', { params });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  getById: async (id) => {\n    try {\n      const response = await api.get(`/tutorings/${id}`);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  create: async (data) => {\n    try {\n      const response = await api.post('/tutorings', data);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  update: async (id, data) => {\n    try {\n      const response = await api.put(`/tutorings/${id}`, data);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  delete: async (id) => {\n    try {\n      const response = await api.delete(`/tutorings/${id}`);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  complete: async (id, notes) => {\n    try {\n      const response = await api.patch(`/tutorings/${id}/complete`, { notes });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  }\n};\n","size_bytes":1316},"src/components/Materials/MaterialsList.jsx":{"content":"import React from 'react';\nimport { Edit, Trash2, Package, AlertCircle, CheckCircle } from 'lucide-react';\n\nconst MaterialsList = ({\n  materials,\n  loading,\n  error,\n  pagination,\n  filters,\n  onPageChange,\n  onFiltersChange,\n  onEdit,\n  onDelete\n}) => {\n  const handleSearchChange = (e) => {\n    onFiltersChange({ ...filters, search: e.target.value });\n  };\n\n  const getStockStatus = (material) => {\n    const isCritical = material.quantity <= material.minimum;\n    return {\n      critical: isCritical,\n      label: isCritical ? 'Repor' : 'OK',\n      icon: isCritical ? AlertCircle : CheckCircle,\n      className: isCritical\n        ? 'bg-red-100 text-red-800'\n        : 'bg-green-100 text-green-800'\n    };\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center py-12\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n        <p className=\"text-sm text-red-600\">{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n      <div className=\"p-4 border-b border-gray-200\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Buscar por SKU ou nome...\"\n              value={filters.search}\n              onChange={handleSearchChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {materials.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <Package className=\"mx-auto h-12 w-12 text-gray-400\" />\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Nenhum material encontrado</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Comece criando um novo item de material.\n          </p>\n        </div>\n      ) : (\n        <>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    SKU\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Nome\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Quantidade\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Mínimo\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Ações\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {materials.map((material) => {\n                  const status = getStockStatus(material);\n                  const StatusIcon = status.icon;\n                  \n                  return (\n                    <tr key={material.sku} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className=\"font-mono text-sm text-gray-900\">{material.sku}</span>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"text-sm font-medium text-gray-900\">\n                          {material.name}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`text-sm font-semibold ${\n                          status.critical ? 'text-red-600' : 'text-gray-900'\n                        }`}>\n                          {material.quantity}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {material.minimum}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${status.className}`}>\n                          <StatusIcon className=\"h-3 w-3 mr-1\" />\n                          {status.label}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <div className=\"flex justify-end gap-2\">\n                          <button\n                            onClick={() => onEdit(material)}\n                            className=\"text-blue-600 hover:text-blue-900\"\n                            title=\"Editar\"\n                          >\n                            <Edit className=\"h-5 w-5\" />\n                          </button>\n                          <button\n                            onClick={() => onDelete(material)}\n                            className=\"text-red-600 hover:text-red-900\"\n                            title=\"Excluir\"\n                          >\n                            <Trash2 className=\"h-5 w-5\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n\n          {pagination.totalPages > 1 && (\n            <div className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n              <div className=\"flex-1 flex justify-between sm:hidden\">\n                <button\n                  onClick={() => onPageChange(pagination.page - 1)}\n                  disabled={pagination.page === 1}\n                  className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Anterior\n                </button>\n                <button\n                  onClick={() => onPageChange(pagination.page + 1)}\n                  disabled={pagination.page === pagination.totalPages}\n                  className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Próximo\n                </button>\n              </div>\n              <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n                <div>\n                  <p className=\"text-sm text-gray-700\">\n                    Mostrando <span className=\"font-medium\">{((pagination.page - 1) * pagination.limit) + 1}</span> até{' '}\n                    <span className=\"font-medium\">{Math.min(pagination.page * pagination.limit, pagination.total)}</span> de{' '}\n                    <span className=\"font-medium\">{pagination.total}</span> resultados\n                  </p>\n                </div>\n                <div>\n                  <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n                    <button\n                      onClick={() => onPageChange(pagination.page - 1)}\n                      disabled={pagination.page === 1}\n                      className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      Anterior\n                    </button>\n                    {[...Array(pagination.totalPages)].map((_, index) => (\n                      <button\n                        key={index + 1}\n                        onClick={() => onPageChange(index + 1)}\n                        className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\n                          pagination.page === index + 1\n                            ? 'z-10 bg-blue-50 border-blue-500 text-blue-600'\n                            : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\n                        }`}\n                      >\n                        {index + 1}\n                      </button>\n                    ))}\n                    <button\n                      onClick={() => onPageChange(pagination.page + 1)}\n                      disabled={pagination.page === pagination.totalPages}\n                      className=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      Próximo\n                    </button>\n                  </nav>\n                </div>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MaterialsList;\n","size_bytes":9637},"src/services/paymentsApi.js":{"content":"import api from './api';\n\nexport const paymentsApi = {\n  getAll: async (params = {}) => {\n    try {\n      const response = await api.get('/payments', { params });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  getById: async (id) => {\n    try {\n      const response = await api.get(`/payments/${id}`);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  create: async (data) => {\n    try {\n      const response = await api.post('/payments', data);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  update: async (id, data) => {\n    try {\n      const response = await api.put(`/payments/${id}`, data);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  delete: async (id) => {\n    try {\n      const response = await api.delete(`/payments/${id}`);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  markAsPaid: async (id, paymentMethod, notes) => {\n    try {\n      const response = await api.patch(`/payments/${id}/pay`, {\n        paymentMethod,\n        notes\n      });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  getReport: async (startDate, endDate, studentId) => {\n    try {\n      const params = { startDate, endDate };\n      if (studentId) params.studentId = studentId;\n      \n      const response = await api.get('/payments/reports/period', { params });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  }\n};\n","size_bytes":1710},"src/components/Materials/DeleteConfirmModal.jsx":{"content":"import React from 'react';\nimport { AlertTriangle } from 'lucide-react';\n\nconst DeleteConfirmModal = ({ material, loading, onConfirm, onCancel }) => {\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4\">\n      <div className=\"relative bg-white rounded-lg shadow-xl max-w-md w-full\">\n        <div className=\"p-6\">\n          <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full\">\n            <AlertTriangle className=\"h-6 w-6 text-red-600\" />\n          </div>\n          \n          <div className=\"mt-4 text-center\">\n            <h3 className=\"text-lg font-medium text-gray-900\">\n              Excluir Material\n            </h3>\n            <div className=\"mt-2\">\n              <p className=\"text-sm text-gray-500\">\n                Tem certeza que deseja excluir o material <strong>{material.name}</strong>?\n              </p>\n              <p className=\"text-sm text-gray-500 mt-2\">\n                SKU: <strong>{material.sku}</strong>\n              </p>\n              <p className=\"text-sm text-gray-500 mt-2\">\n                Esta ação não pode ser desfeita.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-gray-50 px-6 py-3 flex justify-end gap-3 rounded-b-lg\">\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            disabled={loading}\n            className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n          >\n            Cancelar\n          </button>\n          <button\n            type=\"button\"\n            onClick={onConfirm}\n            disabled={loading}\n            className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {loading ? 'Excluindo...' : 'Excluir'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DeleteConfirmModal;\n","size_bytes":2172},"src/pages/Payments.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport PaymentsList from '../components/Payments/PaymentsList';\nimport PaymentForm from '../components/Payments/PaymentForm';\nimport DeleteConfirmModal from '../components/Payments/DeleteConfirmModal';\nimport { useToast } from '../components/common/Toast';\nimport { paymentsApi } from '../services/paymentsApi';\n\nconst Payments = () => {\n  const { success, error, ToastContainer } = useToast();\n  const [payments, setPayments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [globalError, setGlobalError] = useState('');\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    total: 0,\n    totalPages: 0\n  });\n  const [filters, setFilters] = useState({\n    search: '',\n    status: ''\n  });\n\n  const [showForm, setShowForm] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [selectedPayment, setSelectedPayment] = useState(null);\n  const [editingPayment, setEditingPayment] = useState(null);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n\n  const loadPayments = async (page = 1, newFilters = filters) => {\n    try {\n      setLoading(true);\n      setGlobalError('');\n      \n      const response = await paymentsApi.getAll({\n        page,\n        limit: pagination.limit,\n        ...newFilters\n      });\n\n      setPayments(response.payments || []);\n      setPagination({\n        page: response.pagination?.page || 1,\n        limit: response.pagination?.limit || 10,\n        total: response.pagination?.total || 0,\n        totalPages: response.pagination?.pages || 0\n      });\n    } catch (err) {\n      console.error('Erro ao carregar pagamentos:', err);\n      const errorMessage = 'Erro ao carregar pagamentos. Tente novamente.';\n      setGlobalError(errorMessage);\n      error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadPayments();\n  }, []);\n\n  const handlePageChange = (newPage) => {\n    loadPayments(newPage);\n  };\n\n  const handleFiltersChange = (newFilters) => {\n    setFilters(newFilters);\n    loadPayments(1, newFilters);\n  };\n\n  const handleAddPayment = () => {\n    setEditingPayment(null);\n    setShowForm(true);\n  };\n\n  const handleEditPayment = (payment) => {\n    setEditingPayment(payment);\n    setShowForm(true);\n  };\n\n  const handleDeletePayment = (payment) => {\n    setSelectedPayment(payment);\n    setShowDeleteModal(true);\n  };\n\n  const handleConfirmDelete = async () => {\n    if (!selectedPayment) return;\n\n    try {\n      setDeleteLoading(true);\n      await paymentsApi.delete(selectedPayment.id);\n      \n      await loadPayments(pagination.page);\n      \n      setShowDeleteModal(false);\n      setSelectedPayment(null);\n      \n      success('Pagamento excluído com sucesso');\n    } catch (err) {\n      console.error('Erro ao excluir pagamento:', err);\n      const errorMessage = 'Erro ao excluir pagamento. Tente novamente.';\n      setGlobalError(errorMessage);\n      error(errorMessage);\n    } finally {\n      setDeleteLoading(false);\n    }\n  };\n\n  const handleMarkAsPaid = async (payment) => {\n    try {\n      await paymentsApi.markAsPaid(payment.id, 'Manual', 'Pagamento confirmado');\n      \n      await loadPayments(pagination.page);\n      \n      success('Pagamento marcado como pago');\n    } catch (err) {\n      console.error('Erro ao marcar pagamento como pago:', err);\n      error('Erro ao marcar pagamento como pago. Tente novamente.');\n    }\n  };\n\n  const handleSavePayment = async (paymentData) => {\n    try {\n      if (editingPayment) {\n        await paymentsApi.update(editingPayment.id, paymentData);\n        success('Pagamento atualizado com sucesso');\n      } else {\n        await paymentsApi.create(paymentData);\n        success('Pagamento criado com sucesso');\n      }\n      \n      await loadPayments(pagination.page);\n      \n      setShowForm(false);\n      setEditingPayment(null);\n    } catch (err) {\n      console.error('Erro ao salvar pagamento:', err);\n      const errorMessage = editingPayment \n        ? 'Erro ao atualizar pagamento. Tente novamente.'\n        : 'Erro ao criar pagamento. Tente novamente.';\n      error(errorMessage);\n      throw err;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Pagamentos</h1>\n              <p className=\"mt-2 text-sm text-gray-600\">\n                Gerencie cobranças e mensalidades dos alunos\n              </p>\n            </div>\n            <button\n              onClick={handleAddPayment}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              <svg className=\"-ml-1 mr-2 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n              </svg>\n              Novo Pagamento\n            </button>\n          </div>\n        </div>\n\n        {globalError && (\n          <div className=\"px-4 sm:px-0 mb-4\">\n            <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n              <div className=\"flex\">\n                <div className=\"flex-shrink-0\">\n                  <svg className=\"h-5 w-5 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-red-600\">{globalError}</p>\n                </div>\n                <div className=\"ml-auto pl-3\">\n                  <button\n                    onClick={() => setGlobalError('')}\n                    className=\"text-red-400 hover:text-red-600\"\n                  >\n                    <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"px-4 sm:px-0\">\n          <PaymentsList\n            payments={payments}\n            loading={loading}\n            error={globalError}\n            pagination={pagination}\n            filters={filters}\n            onPageChange={handlePageChange}\n            onFiltersChange={handleFiltersChange}\n            onEdit={handleEditPayment}\n            onDelete={handleDeletePayment}\n            onMarkAsPaid={handleMarkAsPaid}\n          />\n        </div>\n      </div>\n\n      {showForm && (\n        <PaymentForm\n          payment={editingPayment}\n          onSave={handleSavePayment}\n          onCancel={() => {\n            setShowForm(false);\n            setEditingPayment(null);\n          }}\n        />\n      )}\n\n      {showDeleteModal && selectedPayment && (\n        <DeleteConfirmModal\n          payment={selectedPayment}\n          loading={deleteLoading}\n          onConfirm={handleConfirmDelete}\n          onCancel={() => {\n            setShowDeleteModal(false);\n            setSelectedPayment(null);\n          }}\n        />\n      )}\n\n      {ToastContainer()}\n    </div>\n  );\n};\n\nexport default Payments;\n","size_bytes":7711},"src/components/Tutorings/TutoringsList.jsx":{"content":"import React from 'react';\nimport { Edit, Trash2, CheckCircle, Calendar } from 'lucide-react';\n\nconst TutoringsList = ({\n  tutorings,\n  loading,\n  error,\n  pagination,\n  filters,\n  onPageChange,\n  onFiltersChange,\n  onEdit,\n  onDelete,\n  onComplete\n}) => {\n  const handleSearchChange = (e) => {\n    onFiltersChange({ ...filters, search: e.target.value });\n  };\n\n  const handleStatusChange = (e) => {\n    onFiltersChange({ ...filters, status: e.target.value });\n  };\n\n  const getStatusBadge = (status) => {\n    const badges = {\n      'SCHEDULED': 'bg-blue-100 text-blue-800',\n      'COMPLETED': 'bg-green-100 text-green-800',\n      'CANCELLED': 'bg-red-100 text-red-800'\n    };\n    const labels = {\n      'SCHEDULED': 'Agendado',\n      'COMPLETED': 'Concluído',\n      'CANCELLED': 'Cancelado'\n    };\n    return (\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${badges[status] || 'bg-gray-100 text-gray-800'}`}>\n        {labels[status] || status}\n      </span>\n    );\n  };\n\n  const formatDateTime = (dateString) => {\n    if (!dateString) return '-';\n    const date = new Date(dateString);\n    return date.toLocaleString('pt-BR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center py-12\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n        <p className=\"text-sm text-red-600\">{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n      <div className=\"p-4 border-b border-gray-200\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"md:col-span-2\">\n            <input\n              type=\"text\"\n              placeholder=\"Buscar por aluno, disciplina ou assunto...\"\n              value={filters.search}\n              onChange={handleSearchChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <select\n              value={filters.status}\n              onChange={handleStatusChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Todos os status</option>\n              <option value=\"SCHEDULED\">Agendado</option>\n              <option value=\"COMPLETED\">Concluído</option>\n              <option value=\"CANCELLED\">Cancelado</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {tutorings.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <Calendar className=\"mx-auto h-12 w-12 text-gray-400\" />\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Nenhum reforço encontrado</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Comece criando um novo reforço escolar.\n          </p>\n        </div>\n      ) : (\n        <>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Aluno\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Disciplina\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Assunto\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Plano\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Próxima Aula\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Ações\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {tutorings.map((tutoring) => (\n                  <tr key={tutoring.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        {tutoring.student?.name || 'N/A'}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {tutoring.student?.grade || ''}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {tutoring.subject}\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-900\">\n                      {tutoring.topic}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {tutoring.plan}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {formatDateTime(tutoring.nextClass)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {getStatusBadge(tutoring.status)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                      <div className=\"flex justify-end gap-2\">\n                        {tutoring.status === 'SCHEDULED' && onComplete && (\n                          <button\n                            onClick={() => onComplete(tutoring)}\n                            className=\"text-green-600 hover:text-green-900\"\n                            title=\"Marcar como concluído\"\n                          >\n                            <CheckCircle className=\"h-5 w-5\" />\n                          </button>\n                        )}\n                        <button\n                          onClick={() => onEdit(tutoring)}\n                          className=\"text-blue-600 hover:text-blue-900\"\n                          title=\"Editar\"\n                        >\n                          <Edit className=\"h-5 w-5\" />\n                        </button>\n                        <button\n                          onClick={() => onDelete(tutoring)}\n                          className=\"text-red-600 hover:text-red-900\"\n                          title=\"Excluir\"\n                        >\n                          <Trash2 className=\"h-5 w-5\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          {pagination.totalPages > 1 && (\n            <div className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n              <div className=\"flex-1 flex justify-between sm:hidden\">\n                <button\n                  onClick={() => onPageChange(pagination.page - 1)}\n                  disabled={pagination.page === 1}\n                  className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Anterior\n                </button>\n                <button\n                  onClick={() => onPageChange(pagination.page + 1)}\n                  disabled={pagination.page === pagination.totalPages}\n                  className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Próximo\n                </button>\n              </div>\n              <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n                <div>\n                  <p className=\"text-sm text-gray-700\">\n                    Mostrando <span className=\"font-medium\">{((pagination.page - 1) * pagination.limit) + 1}</span> até{' '}\n                    <span className=\"font-medium\">{Math.min(pagination.page * pagination.limit, pagination.total)}</span> de{' '}\n                    <span className=\"font-medium\">{pagination.total}</span> resultados\n                  </p>\n                </div>\n                <div>\n                  <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n                    <button\n                      onClick={() => onPageChange(pagination.page - 1)}\n                      disabled={pagination.page === 1}\n                      className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      Anterior\n                    </button>\n                    {[...Array(pagination.totalPages)].map((_, index) => (\n                      <button\n                        key={index + 1}\n                        onClick={() => onPageChange(index + 1)}\n                        className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\n                          pagination.page === index + 1\n                            ? 'z-10 bg-blue-50 border-blue-500 text-blue-600'\n                            : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\n                        }`}\n                      >\n                        {index + 1}\n                      </button>\n                    ))}\n                    <button\n                      onClick={() => onPageChange(pagination.page + 1)}\n                      disabled={pagination.page === pagination.totalPages}\n                      className=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      Próximo\n                    </button>\n                  </nav>\n                </div>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default TutoringsList;\n","size_bytes":11106},"src/services/materialsApi.js":{"content":"import api from './api';\n\nexport const materialsApi = {\n  getAll: async (params = {}) => {\n    try {\n      const response = await api.get('/materials', { params });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  getById: async (id) => {\n    try {\n      const response = await api.get(`/materials/${id}`);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  create: async (data) => {\n    try {\n      const response = await api.post('/materials', data);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  update: async (id, data) => {\n    try {\n      const response = await api.put(`/materials/${id}`, data);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  delete: async (id) => {\n    try {\n      const response = await api.delete(`/materials/${id}`);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  }\n};\n","size_bytes":1086},"src/components/Payments/PaymentsList.jsx":{"content":"import React from 'react';\nimport { Edit, Trash2, DollarSign, CheckCircle } from 'lucide-react';\n\nconst PaymentsList = ({\n  payments,\n  loading,\n  error,\n  pagination,\n  filters,\n  onPageChange,\n  onFiltersChange,\n  onEdit,\n  onDelete,\n  onMarkAsPaid\n}) => {\n  const handleSearchChange = (e) => {\n    onFiltersChange({ ...filters, search: e.target.value });\n  };\n\n  const handleStatusChange = (e) => {\n    onFiltersChange({ ...filters, status: e.target.value });\n  };\n\n  const getStatusBadge = (status) => {\n    const badges = {\n      'PENDING': 'bg-yellow-100 text-yellow-800',\n      'PAID': 'bg-green-100 text-green-800',\n      'OVERDUE': 'bg-red-100 text-red-800',\n      'CANCELLED': 'bg-gray-100 text-gray-800'\n    };\n    const labels = {\n      'PENDING': 'Pendente',\n      'PAID': 'Pago',\n      'OVERDUE': 'Vencido',\n      'CANCELLED': 'Cancelado'\n    };\n    return (\n      <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${badges[status] || 'bg-gray-100 text-gray-800'}`}>\n        {labels[status] || status}\n      </span>\n    );\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return '-';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('pt-BR');\n  };\n\n  const formatCurrency = (value) => {\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(value);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center py-12\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n        <p className=\"text-sm text-red-600\">{error}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n      <div className=\"p-4 border-b border-gray-200\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div className=\"md:col-span-2\">\n            <input\n              type=\"text\"\n              placeholder=\"Buscar por aluno ou referência...\"\n              value={filters.search}\n              onChange={handleSearchChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n          <div>\n            <select\n              value={filters.status}\n              onChange={handleStatusChange}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">Todos os status</option>\n              <option value=\"PENDING\">Pendente</option>\n              <option value=\"PAID\">Pago</option>\n              <option value=\"OVERDUE\">Vencido</option>\n              <option value=\"CANCELLED\">Cancelado</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {payments.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <DollarSign className=\"mx-auto h-12 w-12 text-gray-400\" />\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Nenhum pagamento encontrado</h3>\n          <p className=\"mt-1 text-sm text-gray-500\">\n            Comece criando um novo pagamento.\n          </p>\n        </div>\n      ) : (\n        <>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Aluno\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Referência\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Valor\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Vencimento\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Gateway\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Ações\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {payments.map((payment) => (\n                  <tr key={payment.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        {payment.student?.name || 'N/A'}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {payment.student?.grade || ''}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 text-sm text-gray-900\">\n                      {payment.reference}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      {formatCurrency(payment.amount)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {formatDate(payment.dueDate)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\n                        {payment.gateway || 'N/A'}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {getStatusBadge(payment.status)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                      <div className=\"flex justify-end gap-2\">\n                        {payment.status === 'PENDING' && onMarkAsPaid && (\n                          <button\n                            onClick={() => onMarkAsPaid(payment)}\n                            className=\"text-green-600 hover:text-green-900\"\n                            title=\"Marcar como pago\"\n                          >\n                            <CheckCircle className=\"h-5 w-5\" />\n                          </button>\n                        )}\n                        <button\n                          onClick={() => onEdit(payment)}\n                          className=\"text-blue-600 hover:text-blue-900\"\n                          title=\"Editar\"\n                        >\n                          <Edit className=\"h-5 w-5\" />\n                        </button>\n                        <button\n                          onClick={() => onDelete(payment)}\n                          className=\"text-red-600 hover:text-red-900\"\n                          title=\"Excluir\"\n                        >\n                          <Trash2 className=\"h-5 w-5\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n          {pagination.totalPages > 1 && (\n            <div className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n              <div className=\"flex-1 flex justify-between sm:hidden\">\n                <button\n                  onClick={() => onPageChange(pagination.page - 1)}\n                  disabled={pagination.page === 1}\n                  className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Anterior\n                </button>\n                <button\n                  onClick={() => onPageChange(pagination.page + 1)}\n                  disabled={pagination.page === pagination.totalPages}\n                  className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Próximo\n                </button>\n              </div>\n              <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n                <div>\n                  <p className=\"text-sm text-gray-700\">\n                    Mostrando <span className=\"font-medium\">{((pagination.page - 1) * pagination.limit) + 1}</span> até{' '}\n                    <span className=\"font-medium\">{Math.min(pagination.page * pagination.limit, pagination.total)}</span> de{' '}\n                    <span className=\"font-medium\">{pagination.total}</span> resultados\n                  </p>\n                </div>\n                <div>\n                  <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n                    <button\n                      onClick={() => onPageChange(pagination.page - 1)}\n                      disabled={pagination.page === 1}\n                      className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      Anterior\n                    </button>\n                    {[...Array(pagination.totalPages)].map((_, index) => (\n                      <button\n                        key={index + 1}\n                        onClick={() => onPageChange(index + 1)}\n                        className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\n                          pagination.page === index + 1\n                            ? 'z-10 bg-blue-50 border-blue-500 text-blue-600'\n                            : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\n                        }`}\n                      >\n                        {index + 1}\n                      </button>\n                    ))}\n                    <button\n                      onClick={() => onPageChange(pagination.page + 1)}\n                      disabled={pagination.page === pagination.totalPages}\n                      className=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                    >\n                      Próximo\n                    </button>\n                  </nav>\n                </div>\n              </div>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default PaymentsList;\n","size_bytes":11414},"src/components/Payments/DeleteConfirmModal.jsx":{"content":"import React from 'react';\nimport { AlertTriangle } from 'lucide-react';\n\nconst DeleteConfirmModal = ({ payment, loading, onConfirm, onCancel }) => {\n  const formatCurrency = (value) => {\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(value);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4\">\n      <div className=\"relative bg-white rounded-lg shadow-xl max-w-md w-full\">\n        <div className=\"p-6\">\n          <div className=\"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full\">\n            <AlertTriangle className=\"h-6 w-6 text-red-600\" />\n          </div>\n          \n          <div className=\"mt-4 text-center\">\n            <h3 className=\"text-lg font-medium text-gray-900\">\n              Excluir Pagamento\n            </h3>\n            <div className=\"mt-2\">\n              <p className=\"text-sm text-gray-500\">\n                Tem certeza que deseja excluir o pagamento de <strong>{payment.reference}</strong> para o aluno{' '}\n                <strong>{payment.student?.name || 'N/A'}</strong>?\n              </p>\n              <p className=\"text-sm text-gray-500 mt-2\">\n                Valor: <strong>{formatCurrency(payment.amount)}</strong>\n              </p>\n              <p className=\"text-sm text-gray-500 mt-2\">\n                Esta ação não pode ser desfeita.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-gray-50 px-6 py-3 flex justify-end gap-3 rounded-b-lg\">\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            disabled={loading}\n            className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n          >\n            Cancelar\n          </button>\n          <button\n            type=\"button\"\n            onClick={onConfirm}\n            disabled={loading}\n            className=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {loading ? 'Excluindo...' : 'Excluir'}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DeleteConfirmModal;\n","size_bytes":2441},"src/pages/Materials.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport MaterialsList from '../components/Materials/MaterialsList';\nimport MaterialForm from '../components/Materials/MaterialForm';\nimport DeleteConfirmModal from '../components/Materials/DeleteConfirmModal';\nimport { useToast } from '../components/common/Toast';\nimport { materialsApi } from '../services/materialsApi';\n\nconst Materials = () => {\n  const { success, error, ToastContainer } = useToast();\n  const [materials, setMaterials] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [globalError, setGlobalError] = useState('');\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    total: 0,\n    totalPages: 0\n  });\n  const [filters, setFilters] = useState({\n    search: ''\n  });\n\n  const [showForm, setShowForm] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [selectedMaterial, setSelectedMaterial] = useState(null);\n  const [editingMaterial, setEditingMaterial] = useState(null);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n\n  const loadMaterials = async (page = 1, newFilters = filters) => {\n    try {\n      setLoading(true);\n      setGlobalError('');\n      \n      const response = await materialsApi.getAll({\n        page,\n        limit: pagination.limit,\n        ...newFilters\n      });\n\n      setMaterials(response.materials || []);\n      setPagination({\n        page: response.pagination?.page || 1,\n        limit: response.pagination?.limit || 10,\n        total: response.pagination?.total || 0,\n        totalPages: response.pagination?.pages || 0\n      });\n    } catch (err) {\n      console.error('Erro ao carregar materiais:', err);\n      const errorMessage = 'Erro ao carregar materiais. Tente novamente.';\n      setGlobalError(errorMessage);\n      error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    loadMaterials();\n  }, []);\n\n  const handlePageChange = (newPage) => {\n    loadMaterials(newPage);\n  };\n\n  const handleFiltersChange = (newFilters) => {\n    setFilters(newFilters);\n    loadMaterials(1, newFilters);\n  };\n\n  const handleAddMaterial = () => {\n    setEditingMaterial(null);\n    setShowForm(true);\n  };\n\n  const handleEditMaterial = (material) => {\n    setEditingMaterial(material);\n    setShowForm(true);\n  };\n\n  const handleDeleteMaterial = (material) => {\n    setSelectedMaterial(material);\n    setShowDeleteModal(true);\n  };\n\n  const handleConfirmDelete = async () => {\n    if (!selectedMaterial) return;\n\n    try {\n      setDeleteLoading(true);\n      await materialsApi.delete(selectedMaterial.id);\n      \n      await loadMaterials(pagination.page);\n      \n      setShowDeleteModal(false);\n      setSelectedMaterial(null);\n      \n      success('Material excluído com sucesso');\n    } catch (err) {\n      console.error('Erro ao excluir material:', err);\n      const errorMessage = 'Erro ao excluir material. Tente novamente.';\n      setGlobalError(errorMessage);\n      error(errorMessage);\n    } finally {\n      setDeleteLoading(false);\n    }\n  };\n\n  const handleSaveMaterial = async (materialData) => {\n    try {\n      if (editingMaterial) {\n        await materialsApi.update(editingMaterial.id, materialData);\n        success('Material atualizado com sucesso');\n      } else {\n        await materialsApi.create(materialData);\n        success('Material criado com sucesso');\n      }\n      \n      await loadMaterials(pagination.page);\n      \n      setShowForm(false);\n      setEditingMaterial(null);\n    } catch (err) {\n      console.error('Erro ao salvar material:', err);\n      const errorMessage = editingMaterial \n        ? 'Erro ao atualizar material. Tente novamente.'\n        : 'Erro ao criar material. Tente novamente.';\n      error(errorMessage);\n      throw err;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Materiais</h1>\n              <p className=\"mt-2 text-sm text-gray-600\">\n                Gerencie o estoque de materiais escolares\n              </p>\n            </div>\n            <button\n              onClick={handleAddMaterial}\n              className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              <svg className=\"-ml-1 mr-2 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\n              </svg>\n              Novo Material\n            </button>\n          </div>\n        </div>\n\n        {globalError && (\n          <div className=\"px-4 sm:px-0 mb-4\">\n            <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n              <div className=\"flex\">\n                <div className=\"flex-shrink-0\">\n                  <svg className=\"h-5 w-5 text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div className=\"ml-3\">\n                  <p className=\"text-sm text-red-600\">{globalError}</p>\n                </div>\n                <div className=\"ml-auto pl-3\">\n                  <button\n                    onClick={() => setGlobalError('')}\n                    className=\"text-red-400 hover:text-red-600\"\n                  >\n                    <svg className=\"h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"px-4 sm:px-0\">\n          <MaterialsList\n            materials={materials}\n            loading={loading}\n            error={globalError}\n            pagination={pagination}\n            filters={filters}\n            onPageChange={handlePageChange}\n            onFiltersChange={handleFiltersChange}\n            onEdit={handleEditMaterial}\n            onDelete={handleDeleteMaterial}\n          />\n        </div>\n      </div>\n\n      {showForm && (\n        <MaterialForm\n          material={editingMaterial}\n          onSave={handleSaveMaterial}\n          onCancel={() => {\n            setShowForm(false);\n            setEditingMaterial(null);\n          }}\n        />\n      )}\n\n      {showDeleteModal && selectedMaterial && (\n        <DeleteConfirmModal\n          material={selectedMaterial}\n          loading={deleteLoading}\n          onConfirm={handleConfirmDelete}\n          onCancel={() => {\n            setShowDeleteModal(false);\n            setSelectedMaterial(null);\n          }}\n        />\n      )}\n\n      {ToastContainer()}\n    </div>\n  );\n};\n\nexport default Materials;\n","size_bytes":7291}},"version":2}